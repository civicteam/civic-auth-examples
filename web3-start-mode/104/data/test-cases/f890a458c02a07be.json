{"uid":"f890a458c02a07be","name":"should complete email verification flow with wallet adapter","fullName":"civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts:14:7","historyId":"38cfe8ce521ac7b526c1b642c13d41f5:16da5751320efd68221c8b8753b00279","time":{"start":1760058428709,"stop":1760058459837,"duration":31128},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760058428712,"stop":1760058429465,"duration":753},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760058428713,"stop":1760058429464,"duration":751},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760058428727,"stop":1760058428805,"duration":78},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760058428730,"stop":1760058428805,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760058428808,"stop":1760058428823,"duration":15},"status":"passed","steps":[{"name":"Create context","time":{"start":1760058428810,"stop":1760058428818,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760058428823,"stop":1760058429443,"duration":620},"status":"passed","steps":[{"name":"Create page","time":{"start":1760058428825,"stop":1760058429442,"duration":617},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760058429461,"stop":1760058429461,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760058429464,"stop":1760058429464,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"e07f5db2acf4690e","name":"screenshot","source":"e07f5db2acf4690e.png","type":"image/png","size":71480}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":1,"hasContent":true},{"name":"Navigate to Solana Next.js 14 app home page","time":{"start":1760058429471,"stop":1760058429829,"duration":358},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760058429474,"stop":1760058429829,"duration":355},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Wait for load state \"networkidle\"","time":{"start":1760058429831,"stop":1760058431033,"duration":1202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760058431034,"stop":1760058431035,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click select wallet button","time":{"start":1760058431035,"stop":1760058431154,"duration":119},"status":"passed","steps":[{"name":"Wait for selector locator('.wallet-adapter-button-trigger')","time":{"start":1760058431039,"stop":1760058431075,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1760058431076,"stop":1760058431088,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('.wallet-adapter-button-trigger')","time":{"start":1760058431089,"stop":1760058431154,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Click Civic wallet button","time":{"start":1760058431155,"stop":1760058431405,"duration":250},"status":"passed","steps":[{"name":"Wait for selector locator('button:has-text(\"Login via Civic\")')","time":{"start":1760058431157,"stop":1760058431174,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1760058431174,"stop":1760058431182,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Login via Civic\")')","time":{"start":1760058431183,"stop":1760058431405,"duration":222},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Handle iframe email verification flow","time":{"start":1760058431406,"stop":1760058439237,"duration":7831},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760058431412,"stop":1760058431447,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760058431448,"stop":1760058431498,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for login UI to load","time":{"start":1760058431499,"stop":1760058431534,"duration":35},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760058431519,"stop":1760058431534,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Find and click email login option","time":{"start":1760058431535,"stop":1760058432750,"duration":1215},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760058431539,"stop":1760058431632,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760058431634,"stop":1760058431656,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760058431657,"stop":1760058432669,"duration":1012},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760058432670,"stop":1760058432749,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true},{"name":"Enter email address in iframe","time":{"start":1760058432750,"stop":1760058432823,"duration":73},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760058432753,"stop":1760058432768,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"650447@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760058432770,"stop":1760058432823,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Submit email form and intercept API call","time":{"start":1760058432824,"stop":1760058434940,"duration":2116},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760058432831,"stop":1760058434940,"duration":2109},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760058432837,"stop":1760058432861,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760058432862,"stop":1760058433872,"duration":1010},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760058433873,"stop":1760058434442,"duration":569},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true},{"name":"Wait for verification code and retrieve from API","time":{"start":1760058434943,"stop":1760058436361,"duration":1418},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760058434948,"stop":1760058435824,"duration":876},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760058436081,"stop":1760058436127,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760058436128,"stop":1760058436161,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760058436162,"stop":1760058436207,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"4\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760058436208,"stop":1760058436256,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760058436257,"stop":1760058436297,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760058436298,"stop":1760058436361,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760058436362,"stop":1760058439237,"duration":2875},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":26,"attachmentsCount":0,"hasContent":true},{"name":"Verify wallet adapter connected state","time":{"start":1760058439237,"stop":1760058459105,"duration":19868},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts:191:68","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1760058439244,"stop":1760058439261,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1760058439261,"stop":1760058439279,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toContainText\"","time":{"start":1760058439280,"stop":1760058459105,"duration":19825},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts:191:68","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"video","time":{"start":1760058460060,"stop":1760058460060,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8319ee21c6609759","name":"video","source":"8319ee21c6609759.webm","type":"video/webm","size":350742}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1760058460061,"stop":1760058460061,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"7c8f68995c1dbc24","name":"error-context","source":"7c8f68995c1dbc24.md","type":"text/markdown","size":425}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760058460061,"stop":1760058460061,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"a6d4502db1b6b565","name":"trace","source":"a6d4502db1b6b565.zip","type":"application/vnd.allure.playwright-trace","size":985520}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760058458806,"stop":1760058459939,"duration":1133},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760058458983,"stop":1760058458983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760058458983,"stop":1760058459934,"duration":951},"status":"passed","steps":[{"name":"Close context","time":{"start":1760058459097,"stop":1760058459933,"duration":836},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"50afc5ba38b30d63","name":"stdout","source":"50afc5ba38b30d63.txt","type":"text/plain","size":12430},{"uid":"694507481e64ae9a","name":"stderr","source":"694507481e64ae9a.txt","type":"text/plain","size":251}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":60,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth-web3.email.solana-next14-wa-email-verification.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts > Solana Next.js 14 Wallet Adapter Email Verification Tests"},{"name":"host","value":"7f4dca615e42"},{"name":"thread","value":"pid-2469-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Solana Next.js 14 Wallet Adapter Email Verification Tests"},{"name":"epic","value":"Sample Applications"},{"name":"feature","value":"Solana Next.js 14 Wallet Adapter Email Verification"},{"name":"story","value":"Solana Next.js 14 Wallet Adapter Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"solana-nextjs14-wa-email-verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[{"uid":"7561c54a475217ec","status":"broken","statusDetails":"Test timeout of 30000ms exceeded.","time":{"start":1760058396714,"stop":1760058427808,"duration":31094}},{"uid":"1d41359e2f51503e","status":"broken","statusDetails":"Test timeout of 30000ms exceeded.","time":{"start":1760058364397,"stop":1760058395480,"duration":31083}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["solana-nextjs14-wa-email-verification"]},"source":"f890a458c02a07be.json","parameterValues":["WebKit"]}