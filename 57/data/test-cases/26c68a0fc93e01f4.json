{"uid":"26c68a0fc93e01f4","name":"should complete full login and logout flow with custom loginSuccessUrl","fullName":"civic-auth/loginSuccessUrl/nextjs-login.spec.ts:10:7","historyId":"6a49da4f9fa466f215da2602fc08e480:0fe70cd73c2004c8cec7b50bc937f04a","time":{"start":1757345586748,"stop":1757345614635,"duration":27887},"status":"failed","statusMessage":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","statusTrace":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/nextjs-login.spec.ts:38:61","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","statusTrace":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/nextjs-login.spec.ts:38:61","steps":[{"name":"Before Hooks","time":{"start":1757345586750,"stop":1757345587073,"duration":323},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757345586751,"stop":1757345587073,"duration":322},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757345586763,"stop":1757345586843,"duration":80},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757345586767,"stop":1757345586842,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757345586844,"stop":1757345586858,"duration":14},"status":"passed","steps":[{"name":"Create context","time":{"start":1757345586846,"stop":1757345586854,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757345586859,"stop":1757345587041,"duration":182},"status":"passed","steps":[{"name":"Create page","time":{"start":1757345586860,"stop":1757345587041,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757345587069,"stop":1757345587069,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757345587071,"stop":1757345587071,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757345587072,"stop":1757345587072,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/\"","time":{"start":1757345587075,"stop":1757345587234,"duration":159},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1757345587236,"stop":1757345588711,"duration":1475},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757345588712,"stop":1757345588713,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1757345588715,"stop":1757345588809,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757345588813,"stop":1757345588881,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1757345588884,"stop":1757345588918,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1757345588921,"stop":1757345589743,"duration":822},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757345589744,"stop":1757345593109,"duration":3365},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1757345593113,"stop":1757345613144,"duration":20031},"status":"failed","statusMessage":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","statusTrace":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/nextjs-login.spec.ts:38:61","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1757345614842,"stop":1757345614842,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8be21ea98a668621","name":"screenshot","source":"8be21ea98a668621.png","type":"image/png","size":58566}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757345614842,"stop":1757345614842,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"f9a0b003b665f837","name":"video","source":"f9a0b003b665f837.webm","type":"video/webm","size":110}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757345614842,"stop":1757345614842,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2d95860a7d7188ba","name":"video","source":"2d95860a7d7188ba.webm","type":"video/webm","size":230964}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1757345614843,"stop":1757345614843,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"180eb028c2a228c2","name":"error-context","source":"180eb028c2a228c2.md","type":"text/markdown","size":396}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1757345614843,"stop":1757345614843,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2fe02bb7dc932e9e","name":"trace","source":"2fe02bb7dc932e9e.zip","type":"application/vnd.allure.playwright-trace","size":514219}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1757345613145,"stop":1757345614738,"duration":1593},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757345613312,"stop":1757345613312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757345613312,"stop":1757345614730,"duration":1418},"status":"passed","steps":[{"name":"Close context","time":{"start":1757345613394,"stop":1757345614728,"duration":1334},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":29,"attachmentsCount":5,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.loginSuccessUrl.nextjs-login.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - WebKit > civic-auth/loginSuccessUrl/nextjs-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6360-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - WebKit"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login SuccessUrl"},{"name":"feature","value":"Next.js Login (LoginSuccessUrl)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"bde8fa1cd692a409","status":"failed","statusDetails":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","time":{"start":1757345557893,"stop":1757345586016,"duration":28123}},{"uid":"223501a7708af87c","status":"failed","statusDetails":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","time":{"start":1757345527031,"stop":1757345556679,"duration":29648}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":36,"broken":1,"skipped":0,"passed":30,"unknown":0,"total":67},"items":[{"uid":"f6d5d7b373d83c27","reportUrl":"https://civicteam.github.io/civic-auth-examples/56//#testresult/f6d5d7b373d83c27","status":"passed","time":{"start":1757343840150,"stop":1757343849491,"duration":9341}},{"uid":"18dfc3863de02f92","reportUrl":"https://civicteam.github.io/civic-auth-examples/55//#testresult/18dfc3863de02f92","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757341307501,"stop":1757341312560,"duration":5059}},{"uid":"d5bda45491f7e4d2","reportUrl":"https://civicteam.github.io/civic-auth-examples/53//#testresult/d5bda45491f7e4d2","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757105682429,"stop":1757105689941,"duration":7512}},{"uid":"15b049aa84efc264","reportUrl":"https://civicteam.github.io/civic-auth-examples/53//#testresult/15b049aa84efc264","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 20000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    44 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiYTFlYzI5MWQtMjk3OC00MGIzLTgxYmYtZmFjYzk4OGMwM2ZmIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhLjkifQ…></iframe>\n","time":{"start":1757105540861,"stop":1757105563906,"duration":23045}},{"uid":"c1f3614ae43e31e9","reportUrl":"https://civicteam.github.io/civic-auth-examples/52//#testresult/c1f3614ae43e31e9","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757104435779,"stop":1757104443230,"duration":7451}},{"uid":"f24ab82eb3495234","reportUrl":"https://civicteam.github.io/civic-auth-examples/52//#testresult/f24ab82eb3495234","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757104476199,"stop":1757104482940,"duration":6741}},{"uid":"3b902419e8b0b601","reportUrl":"https://civicteam.github.io/civic-auth-examples/51//#testresult/3b902419e8b0b601","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757048820861,"stop":1757048830143,"duration":9282}},{"uid":"9542cb0797629a55","reportUrl":"https://civicteam.github.io/civic-auth-examples/51//#testresult/9542cb0797629a55","status":"passed","time":{"start":1757048698427,"stop":1757048709789,"duration":11362}},{"uid":"63a40c2f92b95b1e","reportUrl":"https://civicteam.github.io/civic-auth-examples/49//#testresult/63a40c2f92b95b1e","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757038980699,"stop":1757038987915,"duration":7216}},{"uid":"39ce6ba6ed439d2","reportUrl":"https://civicteam.github.io/civic-auth-examples/49//#testresult/39ce6ba6ed439d2","status":"passed","time":{"start":1757038950585,"stop":1757038964574,"duration":13989}},{"uid":"f629113cf9d55ca3","reportUrl":"https://civicteam.github.io/civic-auth-examples/50//#testresult/f629113cf9d55ca3","status":"passed","time":{"start":1757038977650,"stop":1757038991960,"duration":14310}},{"uid":"68fbb0901c12be0c","reportUrl":"https://civicteam.github.io/civic-auth-examples/48//#testresult/68fbb0901c12be0c","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757031556594,"stop":1757031562596,"duration":6002}},{"uid":"f2f04484593fe688","reportUrl":"https://civicteam.github.io/civic-auth-examples/47//#testresult/f2f04484593fe688","status":"passed","time":{"start":1757031614156,"stop":1757031629070,"duration":14914}},{"uid":"aa62851e671d9747","reportUrl":"https://civicteam.github.io/civic-auth-examples/45//#testresult/aa62851e671d9747","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757030904903,"stop":1757030910585,"duration":5682}},{"uid":"5b12df1788425072","reportUrl":"https://civicteam.github.io/civic-auth-examples/46//#testresult/5b12df1788425072","status":"passed","time":{"start":1757030905848,"stop":1757030917752,"duration":11904}},{"uid":"c68a2c8cdfb809fb","reportUrl":"https://civicteam.github.io/civic-auth-examples/45//#testresult/c68a2c8cdfb809fb","status":"passed","time":{"start":1757030823960,"stop":1757030838250,"duration":14290}},{"uid":"321a6e8988089ba0","reportUrl":"https://civicteam.github.io/civic-auth-examples/44//#testresult/321a6e8988089ba0","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757025168676,"stop":1757025176036,"duration":7360}},{"uid":"b470308b6f271dcf","reportUrl":"https://civicteam.github.io/civic-auth-examples/43//#testresult/b470308b6f271dcf","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757025330858,"stop":1757025336337,"duration":5479}},{"uid":"999439575f2439a9","reportUrl":"https://civicteam.github.io/civic-auth-examples/43//#testresult/999439575f2439a9","status":"broken","statusDetails":"Test timeout of 30000ms exceeded.","time":{"start":1757025289280,"stop":1757025321222,"duration":31942}},{"uid":"ea423d47849e41fd","reportUrl":"https://civicteam.github.io/civic-auth-examples/42//#testresult/ea423d47849e41fd","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757020590418,"stop":1757020597163,"duration":6745}}]},"tags":[]},"source":"26c68a0fc93e01f4.json","parameterValues":["Civic Auth Applications - WebKit"]}