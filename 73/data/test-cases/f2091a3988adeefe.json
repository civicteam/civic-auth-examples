{"uid":"f2091a3988adeefe","name":"should complete email verification flow","fullName":"civic-auth/email/nextjs-email-verification.spec.ts:13:7","historyId":"b285921d959a85ffbe210df5f29f3d17:37e9d81b4e6e0e8f6c9116746379d23f","time":{"start":1756924589038,"stop":1756924603919,"duration":14881},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1756924589040,"stop":1756924590143,"duration":1103},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1756924589041,"stop":1756924590142,"duration":1101},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1756924589056,"stop":1756924589428,"duration":372},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1756924589061,"stop":1756924589428,"duration":367},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1756924589431,"stop":1756924589512,"duration":81},"status":"passed","steps":[{"name":"Create context","time":{"start":1756924589433,"stop":1756924589500,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1756924589513,"stop":1756924590120,"duration":607},"status":"passed","steps":[{"name":"Create page","time":{"start":1756924589514,"stop":1756924590119,"duration":605},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1756924590136,"stop":1756924590136,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1756924590140,"stop":1756924590140,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1756924590142,"stop":1756924590142,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to Next.js app home page","time":{"start":1756924590155,"stop":1756924591680,"duration":1525},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1756924590159,"stop":1756924591680,"duration":1521},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Wait for load state \"networkidle\"","time":{"start":1756924591683,"stop":1756924591685,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1756924591687,"stop":1756924591688,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click sign in button","time":{"start":1756924591689,"stop":1756924592005,"duration":316},"status":"passed","steps":[{"name":"Click getByTestId('sign-in-button')","time":{"start":1756924591698,"stop":1756924592005,"duration":307},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Handle iframe email verification flow","time":{"start":1756924592007,"stop":1756924601567,"duration":9560},"status":"passed","steps":[{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1756924592017,"stop":1756924592079,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('body')","time":{"start":1756924592081,"stop":1756924593791,"duration":1710},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for login UI to load","time":{"start":1756924593792,"stop":1756924594240,"duration":448},"status":"passed","steps":[{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('#civic-login-app-loading')","time":{"start":1756924593801,"stop":1756924594055,"duration":254},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1756924594056,"stop":1756924594240,"duration":184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Debug iframe content","time":{"start":1756924594241,"stop":1756924594743,"duration":502},"status":"passed","steps":[{"name":"Query count locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('*')","time":{"start":1756924594261,"stop":1756924594275,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('button')","time":{"start":1756924594276,"stop":1756924594295,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid*=\"login\"], [data-testid*=\"email\"], [role=\"button\"], .button, [class*=\"button\"]')","time":{"start":1756924594496,"stop":1756924594508,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Find and click email login option","time":{"start":1756924594743,"stop":1756924594928,"duration":185},"status":"passed","steps":[{"name":"Query count locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1756924594746,"stop":1756924594755,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1756924594756,"stop":1756924594768,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1756924594769,"stop":1756924594927,"duration":158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Enter email address in iframe","time":{"start":1756924594928,"stop":1756924594979,"duration":51},"status":"passed","steps":[{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1756924594930,"stop":1756924594944,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"885325@simulator.amazonses.com\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1756924594946,"stop":1756924594978,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Submit email form and intercept API call","time":{"start":1756924594980,"stop":1756924595658,"duration":678},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1756924594983,"stop":1756924595658,"duration":675},"status":"passed","steps":[{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1756924594985,"stop":1756924595006,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1756924595007,"stop":1756924595155,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Wait for verification code and retrieve from API","time":{"start":1756924595659,"stop":1756924597206,"duration":1547},"status":"passed","steps":[{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1756924595661,"stop":1756924596513,"duration":852},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1756924597027,"stop":1756924597051,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"7\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1756924597052,"stop":1756924597079,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"4\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1756924597079,"stop":1756924597111,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"0\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1756924597112,"stop":1756924597143,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"6\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1756924597144,"stop":1756924597168,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"1\" locator('[data-testid=\"civic-auth-iframe-with-resizer\"]').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1756924597169,"stop":1756924597206,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1756924597207,"stop":1756924601566,"duration":4359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":29,"attachmentsCount":0,"hasContent":true},{"name":"Verify login success with email","time":{"start":1756924601567,"stop":1756924601584,"duration":17},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1756924601570,"stop":1756924601583,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"not toContain\"","time":{"start":1756924601584,"stop":1756924601584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Test logout functionality","time":{"start":1756924601585,"stop":1756924604246,"duration":2661},"status":"passed","steps":[{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"885325@simulator.amazonses.com\")')","time":{"start":1756924601586,"stop":1756924601655,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1756924601656,"stop":1756924601663,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Logout\")')","time":{"start":1756924601663,"stop":1756924601751,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1756924601752,"stop":1756924604246,"duration":2494},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true},{"name":"After Hooks","time":{"start":1756924604247,"stop":1756924604322,"duration":75},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1756924604248,"stop":1756924604248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1756924604248,"stop":1756924604312,"duration":64},"status":"passed","steps":[{"name":"Close context","time":{"start":1756924604286,"stop":1756924604312,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"4b60054f2c690e35","name":"stdout","source":"4b60054f2c690e35.txt","type":"text/plain","size":27352},{"uid":"2251b4512307e4c4","name":"stderr","source":"2251b4512307e4c4.txt","type":"text/plain","size":251}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":59,"attachmentsCount":2,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Firefox > civic-auth/email/nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6325-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Next.js Email Verification"},{"name":"story","value":"Next.js Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"nextjs-authentication-email-verification-code"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Firefox"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["nextjs-authentication-email-verification-code"]},"source":"f2091a3988adeefe.json","parameterValues":["Civic Auth Applications - Firefox"]}