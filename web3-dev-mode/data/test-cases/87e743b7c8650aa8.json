{"uid":"87e743b7c8650aa8","name":"should complete email verification flow with wallet adapter","fullName":"civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts:14:7","historyId":"c2695cd5ec7213db75290fbf0f942e00:16da5751320efd68221c8b8753b00279","time":{"start":1760064715366,"stop":1760064746766,"duration":31400},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760064715367,"stop":1760064716118,"duration":751},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760064715368,"stop":1760064716117,"duration":749},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760064715383,"stop":1760064715460,"duration":77},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760064715386,"stop":1760064715459,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Fixture \"context\"","time":{"start":1760064715461,"stop":1760064715475,"duration":14},"status":"passed","steps":[{"name":"Create context","time":{"start":1760064715463,"stop":1760064715471,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Fixture \"page\"","time":{"start":1760064715475,"stop":1760064716097,"duration":622},"status":"passed","steps":[{"name":"Create page","time":{"start":1760064715476,"stop":1760064716097,"duration":621},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760064716113,"stop":1760064716113,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760064716116,"stop":1760064716116,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0},{"name":"Navigate to Solana Next.js 15 app home page","time":{"start":1760064716124,"stop":1760064717816,"duration":1692},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760064716128,"stop":1760064717816,"duration":1688},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Wait for load state \"networkidle\"","time":{"start":1760064717819,"stop":1760064718913,"duration":1094},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760064718914,"stop":1760064718914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click select wallet button","time":{"start":1760064718914,"stop":1760064719025,"duration":111},"status":"passed","steps":[{"name":"Wait for selector locator('.wallet-adapter-button-trigger')","time":{"start":1760064718919,"stop":1760064718951,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760064718952,"stop":1760064718961,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('.wallet-adapter-button-trigger')","time":{"start":1760064718962,"stop":1760064719025,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"Click Civic wallet button","time":{"start":1760064719026,"stop":1760064719221,"duration":195},"status":"passed","steps":[{"name":"Wait for selector locator('button:has-text(\"Login via Civic\")')","time":{"start":1760064719030,"stop":1760064719041,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760064719042,"stop":1760064719054,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('button:has-text(\"Login via Civic\")')","time":{"start":1760064719055,"stop":1760064719221,"duration":166},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"Handle iframe email verification flow","time":{"start":1760064719222,"stop":1760064726796,"duration":7574},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760064719225,"stop":1760064719258,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760064719260,"stop":1760064719305,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for login UI to load","time":{"start":1760064719307,"stop":1760064719360,"duration":53},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760064719342,"stop":1760064719360,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Find and click email login option","time":{"start":1760064719362,"stop":1760064720615,"duration":1253},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760064719364,"stop":1760064719374,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760064719375,"stop":1760064719432,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1760064719433,"stop":1760064720439,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760064720440,"stop":1760064720614,"duration":174},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0},{"name":"Enter email address in iframe","time":{"start":1760064720615,"stop":1760064720668,"duration":53},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760064720617,"stop":1760064720642,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"914482@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760064720643,"stop":1760064720668,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"Submit email form and intercept API call","time":{"start":1760064720669,"stop":1760064722169,"duration":1500},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760064720671,"stop":1760064722169,"duration":1498},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760064720674,"stop":1760064720705,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1760064720706,"stop":1760064721719,"duration":1013},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760064721720,"stop":1760064721807,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0},{"name":"Wait for verification code and retrieve from API","time":{"start":1760064722173,"stop":1760064723452,"duration":1279},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760064722175,"stop":1760064723121,"duration":946},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760064723233,"stop":1760064723265,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760064723266,"stop":1760064723288,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760064723289,"stop":1760064723311,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"6\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760064723311,"stop":1760064723365,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"5\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760064723366,"stop":1760064723408,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760064723409,"stop":1760064723452,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760064723453,"stop":1760064726796,"duration":3343},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":26,"attachmentsCount":0},{"name":"Verify wallet adapter connected state","time":{"start":1760064726798,"stop":1760064745809,"duration":19011},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts:191:68","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1760064726802,"stop":1760064726826,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeVisible\"","time":{"start":1760064726827,"stop":1760064726831,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toContainText\"","time":{"start":1760064726832,"stop":1760064745808,"duration":18976},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    23 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts:191:68","steps":[],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"screenshot","time":{"start":1760064747026,"stop":1760064747026,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"3799d4bd55622d40","name":"screenshot","source":"3799d4bd55622d40.png","type":"image/png","size":80650}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"video","time":{"start":1760064747026,"stop":1760064747026,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"901e4bf926f94456","name":"video","source":"901e4bf926f94456.webm","type":"video/webm","size":389821}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"error-context","time":{"start":1760064747026,"stop":1760064747026,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"1a9ec682048cb5ee","name":"error-context","source":"1a9ec682048cb5ee.md","type":"text/markdown","size":817}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"trace","time":{"start":1760064747027,"stop":1760064747027,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"7c6844a2a7ccd2a4","name":"trace","source":"7c6844a2a7ccd2a4.zip","type":"application/vnd.allure.playwright-trace","size":1246671}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"After Hooks","time":{"start":1760064745461,"stop":1760064746869,"duration":1408},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760064745639,"stop":1760064745639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fixture \"context\"","time":{"start":1760064745639,"stop":1760064746860,"duration":1221},"status":"passed","steps":[{"name":"Close context","time":{"start":1760064745801,"stop":1760064746858,"duration":1057},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0}],"attachments":[{"uid":"4fd6d90a69501fba","name":"stdout","source":"4fd6d90a69501fba.txt","type":"text/plain","size":11198},{"uid":"18d3a3a64f167eaf","name":"stderr","source":"18d3a3a64f167eaf.txt","type":"text/plain","size":251}],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":61,"attachmentsCount":6},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth-web3.email.solana-next15-wa-email-verification.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts > Solana Next.js 15 Wallet Adapter Email Verification Tests"},{"name":"host","value":"60f6c89b93ed"},{"name":"thread","value":"pid-2508-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Solana Next.js 15 Wallet Adapter Email Verification Tests"},{"name":"tag","value":"solana-nextjs15-wa-email-verification"},{"name":"epic","value":"Sample Applications"},{"name":"feature","value":"Solana Next.js 15 Wallet Adapter Email Verification"},{"name":"story","value":"Solana Next.js 15 Wallet Adapter Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["solana-nextjs15-wa-email-verification"]},"source":"87e743b7c8650aa8.json","parameterValues":["WebKit"]}