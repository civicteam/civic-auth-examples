{"uid":"e5229f06ec59b55f","name":"should complete email verification flow with wallet adapter","fullName":"civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts:14:7","historyId":"38cfe8ce521ac7b526c1b642c13d41f5:483ec23660f592decbe63698f54f1a47","time":{"start":1760120688281,"stop":1760120718990,"duration":30709},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760120688292,"stop":1760120688664,"duration":372},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760120688296,"stop":1760120688663,"duration":367},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760120688335,"stop":1760120688454,"duration":119},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760120688341,"stop":1760120688454,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Fixture \"context\"","time":{"start":1760120688462,"stop":1760120688500,"duration":38},"status":"passed","steps":[{"name":"Create context","time":{"start":1760120688470,"stop":1760120688486,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Fixture \"page\"","time":{"start":1760120688500,"stop":1760120688626,"duration":126},"status":"passed","steps":[{"name":"Create page","time":{"start":1760120688508,"stop":1760120688626,"duration":118},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Allure Metadata (metadata)","time":{"start":1760120688656,"stop":1760120688656,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760120688662,"stop":1760120688662,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":8}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":9},{"name":"Navigate to Solana Next.js 14 app home page","time":{"start":1760120688683,"stop":1760120694226,"duration":5543},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760120688689,"stop":1760120694226,"duration":5537},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Wait for load state \"networkidle\"","time":{"start":1760120694229,"stop":1760120707410,"duration":13181},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760120707421,"stop":1760120707425,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click select wallet button","time":{"start":1760120707425,"stop":1760120707699,"duration":274},"status":"passed","steps":[{"name":"Wait for selector locator('.wallet-adapter-button-trigger')","time":{"start":1760120707443,"stop":1760120707612,"duration":169},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760120707615,"stop":1760120707634,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('.wallet-adapter-button-trigger')","time":{"start":1760120707635,"stop":1760120707699,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3},{"name":"Click Civic wallet button","time":{"start":1760120707700,"stop":1760120707838,"duration":138},"status":"passed","steps":[{"name":"Wait for selector locator('button:has-text(\"Login via Civic\")')","time":{"start":1760120707704,"stop":1760120707716,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760120707717,"stop":1760120707727,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('button:has-text(\"Login via Civic\")')","time":{"start":1760120707728,"stop":1760120707838,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3},{"name":"Handle iframe email verification flow","time":{"start":1760120707839,"stop":1760120719084,"duration":11245},"status":"failed","statusMessage":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    18 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiOGNkMmZjY2ItMjgwOS00Njk3LTg4YjEtN2M4NGJhNmI1YTVmIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    18 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiOGNkMmZjY2ItMjgwOS00Njk3LTg4YjEtN2M4NGJhNmI1YTVmIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts:184:18","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120707843,"stop":1760120707929,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760120707930,"stop":1760120708014,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for login UI to load","time":{"start":1760120708015,"stop":1760120708126,"duration":111},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760120708082,"stop":1760120708125,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Find and click email login option","time":{"start":1760120708126,"stop":1760120709314,"duration":1188},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760120708129,"stop":1760120708150,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760120708155,"stop":1760120708180,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for timeout","time":{"start":1760120708181,"stop":1760120709206,"duration":1025},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760120709207,"stop":1760120709314,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4},{"name":"Enter email address in iframe","time":{"start":1760120709315,"stop":1760120709396,"duration":81},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760120709318,"stop":1760120709330,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"979654@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760120709331,"stop":1760120709396,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":2},{"name":"Submit email form and intercept API call","time":{"start":1760120709397,"stop":1760120711115,"duration":1718},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760120709409,"stop":1760120711115,"duration":1706},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760120709414,"stop":1760120709476,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for timeout","time":{"start":1760120709476,"stop":1760120710486,"duration":1010},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760120710487,"stop":1760120710572,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4},{"name":"Wait for verification code and retrieve from API","time":{"start":1760120711115,"stop":1760120712477,"duration":1362},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760120711121,"stop":1760120712031,"duration":910},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760120712278,"stop":1760120712304,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760120712307,"stop":1760120712329,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"9\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760120712330,"stop":1760120712361,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760120712362,"stop":1760120712406,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760120712407,"stop":1760120712434,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760120712435,"stop":1760120712477,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":7},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120712478,"stop":1760120719078,"duration":6600},"status":"failed","statusMessage":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    18 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiOGNkMmZjY2ItMjgwOS00Njk3LTg4YjEtN2M4NGJhNmI1YTVmIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    18 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiOGNkMmZjY2ItMjgwOS00Njk3LTg4YjEtN2M4NGJhNmI1YTVmIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts:184:18","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":26},{"name":"screenshot","time":{"start":1760120719945,"stop":1760120719945,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"1b8b56673107d7f7","name":"screenshot","source":"1b8b56673107d7f7.png","type":"image/png","size":27352}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"video","time":{"start":1760120719945,"stop":1760120719945,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2f437ad992cfc209","name":"video","source":"2f437ad992cfc209.webm","type":"video/webm","size":291198}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"error-context","time":{"start":1760120719950,"stop":1760120719950,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8f922c38578320b0","name":"error-context","source":"8f922c38578320b0.md","type":"text/markdown","size":799}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"trace","time":{"start":1760120719950,"stop":1760120719950,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"cfdb6435117bbf24","name":"trace","source":"cfdb6435117bbf24.zip","type":"application/vnd.allure.playwright-trace","size":1286851}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"After Hooks","time":{"start":1760120718461,"stop":1760120719186,"duration":725},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760120718636,"stop":1760120718636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fixture \"context\"","time":{"start":1760120718636,"stop":1760120719169,"duration":533},"status":"passed","steps":[{"name":"Close context","time":{"start":1760120719050,"stop":1760120719158,"duration":108},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3}],"attachments":[{"uid":"152719d40d20007e","name":"stdout","source":"152719d40d20007e.txt","type":"text/plain","size":8441},{"uid":"889ebec354bfd743","name":"stderr","source":"889ebec354bfd743.txt","type":"text/plain","size":251}],"parameters":[],"attachmentsCount":6,"hasContent":true,"shouldDisplayMessage":true,"stepsCount":57},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth-web3.email.solana-next14-wa-email-verification.spec.ts"},{"name":"titlePath","value":" > Chromium > civic-auth-web3/email/solana-next14-wa-email-verification.spec.ts > Solana Next.js 14 Wallet Adapter Email Verification Tests"},{"name":"host","value":"3c2887eb6059"},{"name":"thread","value":"pid-2511-worker-0"},{"name":"parentSuite","value":"Chromium"},{"name":"subSuite","value":"Solana Next.js 14 Wallet Adapter Email Verification Tests"},{"name":"story","value":"Solana Next.js 14 Wallet Adapter Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"solana-nextjs14-wa-email-verification"},{"name":"epic","value":"Sample Applications"},{"name":"feature","value":"Solana Next.js 14 Wallet Adapter Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Chromium"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["solana-nextjs14-wa-email-verification"]},"source":"e5229f06ec59b55f.json","parameterValues":["Chromium"]}