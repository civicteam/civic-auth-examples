{"uid":"81af56f4c02e1aef","name":"should complete email verification flow","fullName":"civic-auth-web3/email/wagmi-nextjs-email-verification.spec.ts:13:7","historyId":"8c2859e34f9620619edff70ed158875f:16da5751320efd68221c8b8753b00279","time":{"start":1758857532629,"stop":1758857556548,"duration":23919},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1758857532631,"stop":1758857540138,"duration":7507},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1758857532632,"stop":1758857540137,"duration":7505},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1758857532648,"stop":1758857533946,"duration":1298},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1758857532653,"stop":1758857533946,"duration":1293},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0},{"name":"Fixture \"context\"","time":{"start":1758857533948,"stop":1758857533980,"duration":32},"status":"passed","steps":[{"name":"Create context","time":{"start":1758857533955,"stop":1758857533974,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0},{"name":"Fixture \"page\"","time":{"start":1758857533981,"stop":1758857540125,"duration":6144},"status":"passed","steps":[{"name":"Create page","time":{"start":1758857533983,"stop":1758857540125,"duration":6142},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1758857540133,"stop":1758857540133,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1758857540136,"stop":1758857540136,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1758857540137,"stop":1758857540137,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":9,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":10,"attachmentsCount":0},{"name":"Navigate to Wagmi NextJS app home page","time":{"start":1758857540144,"stop":1758857543160,"duration":3016},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1758857540148,"stop":1758857543159,"duration":3011},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0},{"name":"Wait for load state \"networkidle\"","time":{"start":1758857543162,"stop":1758857544216,"duration":1054},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1758857544218,"stop":1758857544221,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click sign in button","time":{"start":1758857544222,"stop":1758857545363,"duration":1141},"status":"passed","steps":[{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1758857544227,"stop":1758857544267,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1758857544268,"stop":1758857544280,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1758857544281,"stop":1758857545286,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click getByTestId('sign-in-button')","time":{"start":1758857545286,"stop":1758857545363,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":4,"attachmentsCount":0},{"name":"Handle iframe email verification flow","time":{"start":1758857545364,"stop":1758857553888,"duration":8524},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1758857545368,"stop":1758857545406,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1758857545408,"stop":1758857545447,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for login UI to load","time":{"start":1758857545448,"stop":1758857545495,"duration":47},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1758857545475,"stop":1758857545495,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0},{"name":"Find and click email login option","time":{"start":1758857545496,"stop":1758857547007,"duration":1511},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758857545499,"stop":1758857545525,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758857545527,"stop":1758857545542,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1758857545543,"stop":1758857546553,"duration":1010},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758857546554,"stop":1758857547006,"duration":452},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":4,"attachmentsCount":0},{"name":"Enter email address in iframe","time":{"start":1758857547007,"stop":1758857547087,"duration":80},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1758857547009,"stop":1758857547053,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"840798@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1758857547055,"stop":1758857547087,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":2,"attachmentsCount":0},{"name":"Submit email form and intercept API call","time":{"start":1758857547088,"stop":1758857548709,"duration":1621},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1758857547094,"stop":1758857548709,"duration":1615},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1758857547096,"stop":1758857547118,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1758857547118,"stop":1758857548126,"duration":1008},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1758857548127,"stop":1758857548285,"duration":158},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":3,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":4,"attachmentsCount":0},{"name":"Wait for verification code and retrieve from API","time":{"start":1758857548710,"stop":1758857550550,"duration":1840},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1758857548716,"stop":1758857549690,"duration":974},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"6\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1758857550312,"stop":1758857550366,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1758857550368,"stop":1758857550411,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1758857550412,"stop":1758857550451,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"9\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1758857550452,"stop":1758857550490,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1758857550491,"stop":1758857550521,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"6\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1758857550522,"stop":1758857550550,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":7,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1758857550551,"stop":1758857553888,"duration":3337},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":26,"attachmentsCount":0},{"name":"Verify login success with email","time":{"start":1758857553889,"stop":1758857554308,"duration":419},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1758857553894,"stop":1758857554307,"duration":413},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"not toContain\"","time":{"start":1758857554308,"stop":1758857554308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":2,"attachmentsCount":0},{"name":"Verify wallet address","time":{"start":1758857554309,"stop":1758857557237,"duration":2928},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1758857554311,"stop":1758857557237,"duration":2926},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0},{"name":"Test logout functionality","time":{"start":1758857557238,"stop":1758857557516,"duration":278},"status":"passed","steps":[{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"840798@simulator.amazonses.com\")')","time":{"start":1758857557241,"stop":1758857557303,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeVisible\"","time":{"start":1758857557304,"stop":1758857557331,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Log out\")')","time":{"start":1758857557332,"stop":1758857557492,"duration":160},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeVisible\"","time":{"start":1758857557493,"stop":1758857557516,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":4,"attachmentsCount":0},{"name":"After Hooks","time":{"start":1758857557516,"stop":1758857557879,"duration":363},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1758857557518,"stop":1758857557518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fixture \"context\"","time":{"start":1758857557518,"stop":1758857557866,"duration":348},"status":"passed","steps":[{"name":"Close context","time":{"start":1758857557821,"stop":1758857557866,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":3,"attachmentsCount":0}],"attachments":[{"uid":"21f45c63f309b947","name":"stdout","source":"21f45c63f309b947.txt","type":"text/plain","size":2014},{"uid":"2b44ad9f1ea0e47","name":"stderr","source":"2b44ad9f1ea0e47.txt","type":"text/plain","size":251}],"parameters":[],"shouldDisplayMessage":false,"hasContent":true,"stepsCount":61,"attachmentsCount":2},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth-web3.email.wagmi-nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth-web3/email/wagmi-nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"runnervm3ublj"},{"name":"thread","value":"pid-6389-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"story","value":"Wagmi NextJS Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"wagmi-nextjs-email-verification"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Wagmi NextJS Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":["wagmi-nextjs-email-verification"]},"source":"81af56f4c02e1aef.json","parameterValues":["WebKit"]}