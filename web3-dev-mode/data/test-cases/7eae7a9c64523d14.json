{"uid":"7eae7a9c64523d14","name":"should complete email verification flow with wallet adapter","fullName":"civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts:14:7","historyId":"c2695cd5ec7213db75290fbf0f942e00:483ec23660f592decbe63698f54f1a47","time":{"start":1760120694296,"stop":1760120725206,"duration":30910},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760120694301,"stop":1760120694873,"duration":572},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760120694306,"stop":1760120694873,"duration":567},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760120694348,"stop":1760120694656,"duration":308},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760120694353,"stop":1760120694656,"duration":303},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Fixture \"context\"","time":{"start":1760120694676,"stop":1760120694720,"duration":44},"status":"passed","steps":[{"name":"Create context","time":{"start":1760120694687,"stop":1760120694712,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Fixture \"page\"","time":{"start":1760120694720,"stop":1760120694827,"duration":107},"status":"passed","steps":[{"name":"Create page","time":{"start":1760120694724,"stop":1760120694827,"duration":103},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Allure Metadata (metadata)","time":{"start":1760120694868,"stop":1760120694868,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760120694872,"stop":1760120694872,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":8}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":9},{"name":"Navigate to Solana Next.js 15 app home page","time":{"start":1760120694886,"stop":1760120698991,"duration":4105},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760120694891,"stop":1760120698990,"duration":4099},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Wait for load state \"networkidle\"","time":{"start":1760120699001,"stop":1760120711435,"duration":12434},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760120711436,"stop":1760120711442,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click select wallet button","time":{"start":1760120711443,"stop":1760120712358,"duration":915},"status":"passed","steps":[{"name":"Wait for selector locator('.wallet-adapter-button-trigger')","time":{"start":1760120711477,"stop":1760120712205,"duration":728},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760120712207,"stop":1760120712246,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('.wallet-adapter-button-trigger')","time":{"start":1760120712250,"stop":1760120712357,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3},{"name":"Click Civic wallet button","time":{"start":1760120712364,"stop":1760120712728,"duration":364},"status":"passed","steps":[{"name":"Wait for selector locator('button:has-text(\"Login via Civic\")')","time":{"start":1760120712383,"stop":1760120712441,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760120712442,"stop":1760120712476,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('button:has-text(\"Login via Civic\")')","time":{"start":1760120712477,"stop":1760120712728,"duration":251},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3},{"name":"Handle iframe email verification flow","time":{"start":1760120712729,"stop":1760120725526,"duration":12797},"status":"failed","statusMessage":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    12 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiYzg0NjM5MGYtNjM4ZS00Y2U1LWEwNzctNmQzMzllYWNiOTQ4IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    12 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiYzg0NjM5MGYtNjM4ZS00Y2U1LWEwNzctNmQzMzllYWNiOTQ4IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts:184:18","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120712738,"stop":1760120714166,"duration":1428},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760120714168,"stop":1760120714274,"duration":106},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for login UI to load","time":{"start":1760120714275,"stop":1760120717358,"duration":3083},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760120714316,"stop":1760120717358,"duration":3042},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Find and click email login option","time":{"start":1760120717359,"stop":1760120718481,"duration":1122},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760120717362,"stop":1760120717380,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760120717381,"stop":1760120717390,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for timeout","time":{"start":1760120717391,"stop":1760120718399,"duration":1008},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760120718400,"stop":1760120718481,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4},{"name":"Enter email address in iframe","time":{"start":1760120718482,"stop":1760120718529,"duration":47},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760120718486,"stop":1760120718499,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"843700@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760120718500,"stop":1760120718529,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":2},{"name":"Submit email form and intercept API call","time":{"start":1760120718529,"stop":1760120720107,"duration":1578},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760120718532,"stop":1760120720107,"duration":1575},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760120718536,"stop":1760120718554,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for timeout","time":{"start":1760120718555,"stop":1760120719559,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760120719559,"stop":1760120719656,"duration":97},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4},{"name":"Wait for verification code and retrieve from API","time":{"start":1760120720109,"stop":1760120721848,"duration":1739},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760120720111,"stop":1760120721009,"duration":898},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"9\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760120721620,"stop":1760120721659,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760120721660,"stop":1760120721713,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"5\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760120721714,"stop":1760120721754,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760120721755,"stop":1760120721786,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760120721787,"stop":1760120721821,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760120721822,"stop":1760120721848,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":7},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120721848,"stop":1760120725526,"duration":3678},"status":"failed","statusMessage":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    12 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiYzg0NjM5MGYtNjM4ZS00Y2U1LWEwNzctNmQzMzllYWNiOTQ4IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    12 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiYzg0NjM5MGYtNjM4ZS00Y2U1LWEwNzctNmQzMzllYWNiOTQ4IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts:184:18","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":26},{"name":"screenshot","time":{"start":1760120725940,"stop":1760120725940,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"1902bc33eae62df8","name":"screenshot","source":"1902bc33eae62df8.png","type":"image/png","size":33263}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"video","time":{"start":1760120725940,"stop":1760120725940,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"a8efdb53edf35707","name":"video","source":"a8efdb53edf35707.webm","type":"video/webm","size":304781}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"error-context","time":{"start":1760120725941,"stop":1760120725941,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"109c005a63a4c08a","name":"error-context","source":"109c005a63a4c08a.md","type":"text/markdown","size":883}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"trace","time":{"start":1760120725941,"stop":1760120725941,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"4bfbb2cc0b85bf73","name":"trace","source":"4bfbb2cc0b85bf73.zip","type":"application/vnd.allure.playwright-trace","size":1961384}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0},{"name":"After Hooks","time":{"start":1760120724654,"stop":1760120725575,"duration":921},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760120724846,"stop":1760120724847,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fixture \"context\"","time":{"start":1760120724847,"stop":1760120725562,"duration":715},"status":"passed","steps":[{"name":"Close context","time":{"start":1760120725499,"stop":1760120725558,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3}],"attachments":[{"uid":"fb11a512610f827b","name":"stdout","source":"fb11a512610f827b.txt","type":"text/plain","size":10474},{"uid":"6173135bd9188344","name":"stderr","source":"6173135bd9188344.txt","type":"text/plain","size":251}],"parameters":[],"attachmentsCount":6,"hasContent":true,"shouldDisplayMessage":true,"stepsCount":57},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth-web3.email.solana-next15-wa-email-verification.spec.ts"},{"name":"titlePath","value":" > Chromium > civic-auth-web3/email/solana-next15-wa-email-verification.spec.ts > Solana Next.js 15 Wallet Adapter Email Verification Tests"},{"name":"host","value":"9380ed9e4a97"},{"name":"thread","value":"pid-2508-worker-0"},{"name":"parentSuite","value":"Chromium"},{"name":"subSuite","value":"Solana Next.js 15 Wallet Adapter Email Verification Tests"},{"name":"story","value":"Solana Next.js 15 Wallet Adapter Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"solana-nextjs15-wa-email-verification"},{"name":"epic","value":"Sample Applications"},{"name":"feature","value":"Solana Next.js 15 Wallet Adapter Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Chromium"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["solana-nextjs15-wa-email-verification"]},"source":"7eae7a9c64523d14.json","parameterValues":["Chromium"]}