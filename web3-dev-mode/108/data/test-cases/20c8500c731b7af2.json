{"uid":"20c8500c731b7af2","name":"should complete email verification flow with wallet adapter","fullName":"civic-auth-web3/email/solana-vite-wa-email-verification.spec.ts:14:7","historyId":"cd89f0139987773a443587edb9bc8284:16da5751320efd68221c8b8753b00279","time":{"start":1760064690690,"stop":1760064722113,"duration":31423},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760064690692,"stop":1760064691439,"duration":747},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760064690693,"stop":1760064691438,"duration":745},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760064690709,"stop":1760064690787,"duration":78},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760064690712,"stop":1760064690786,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Fixture \"context\"","time":{"start":1760064690789,"stop":1760064690801,"duration":12},"status":"passed","steps":[{"name":"Create context","time":{"start":1760064690790,"stop":1760064690797,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Fixture \"page\"","time":{"start":1760064690802,"stop":1760064691419,"duration":617},"status":"passed","steps":[{"name":"Create page","time":{"start":1760064690803,"stop":1760064691418,"duration":615},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760064691435,"stop":1760064691435,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760064691438,"stop":1760064691438,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"5c138075e8b488c8","name":"screenshot","source":"5c138075e8b488c8.png","type":"image/png","size":55803}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":1}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":1},{"name":"Navigate to Solana Vite app home page","time":{"start":1760064691445,"stop":1760064691852,"duration":407},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760064691449,"stop":1760064691852,"duration":403},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Wait for load state \"networkidle\"","time":{"start":1760064691853,"stop":1760064693012,"duration":1159},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760064693013,"stop":1760064693013,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click select wallet button","time":{"start":1760064693013,"stop":1760064693131,"duration":118},"status":"passed","steps":[{"name":"Wait for selector locator('.wallet-adapter-button-trigger')","time":{"start":1760064693018,"stop":1760064693052,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760064693053,"stop":1760064693063,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('.wallet-adapter-button-trigger')","time":{"start":1760064693064,"stop":1760064693131,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"Click Civic wallet button","time":{"start":1760064693132,"stop":1760064693362,"duration":230},"status":"passed","steps":[{"name":"Wait for selector locator('button:has-text(\"Login via Civic\")')","time":{"start":1760064693137,"stop":1760064693146,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toBeEnabled\"","time":{"start":1760064693146,"stop":1760064693160,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('button:has-text(\"Login via Civic\")')","time":{"start":1760064693160,"stop":1760064693362,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"Handle iframe email verification flow","time":{"start":1760064693363,"stop":1760064700804,"duration":7441},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760064693366,"stop":1760064693384,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760064693386,"stop":1760064693459,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for login UI to load","time":{"start":1760064693460,"stop":1760064693495,"duration":35},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760064693478,"stop":1760064693495,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"Find and click email login option","time":{"start":1760064693496,"stop":1760064694707,"duration":1211},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760064693498,"stop":1760064693531,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760064693532,"stop":1760064693550,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1760064693551,"stop":1760064694560,"duration":1009},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760064694561,"stop":1760064694707,"duration":146},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0},{"name":"Enter email address in iframe","time":{"start":1760064694708,"stop":1760064694777,"duration":69},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760064694710,"stop":1760064694733,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"241494@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760064694734,"stop":1760064694777,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"Submit email form and intercept API call","time":{"start":1760064694777,"stop":1760064696673,"duration":1896},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760064694780,"stop":1760064696673,"duration":1893},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760064694782,"stop":1760064694809,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Wait for timeout","time":{"start":1760064694809,"stop":1760064695820,"duration":1011},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760064695821,"stop":1760064696363,"duration":542},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0},{"name":"Wait for verification code and retrieve from API","time":{"start":1760064696673,"stop":1760064697928,"duration":1255},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760064696678,"stop":1760064697565,"duration":887},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"9\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760064697708,"stop":1760064697742,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760064697743,"stop":1760064697780,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760064697781,"stop":1760064697818,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760064697819,"stop":1760064697854,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"7\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760064697855,"stop":1760064697886,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fill \"2\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760064697887,"stop":1760064697928,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760064697928,"stop":1760064700804,"duration":2876},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":26,"attachmentsCount":0},{"name":"Verify wallet adapter connected state","time":{"start":1760064700805,"stop":1760064720960,"duration":20155},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    24 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    24 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-vite-wa-email-verification.spec.ts:191:68","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1760064700810,"stop":1760064700821,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Expect \"toContainText\"","time":{"start":1760064700821,"stop":1760064720960,"duration":20139},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    24 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('.wallet-adapter-button-trigger')\nExpected pattern: /^[A-Za-z0-9]{4}\\.\\.([A-Za-z0-9]{4})$/\nReceived string:  \"Connecting ...\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 20000ms\n  - waiting for locator('.wallet-adapter-button-trigger')\n    24 × locator resolved to <button tabindex=\"0\" type=\"button\" class=\"wallet-adapter-button wallet-adapter-button-trigger\">…</button>\n       - unexpected value \"Connecting ...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth-web3/email/solana-vite-wa-email-verification.spec.ts:191:68","steps":[],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"video","time":{"start":1760064722326,"stop":1760064722326,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"75be84475789cdf2","name":"video","source":"75be84475789cdf2.webm","type":"video/webm","size":324387}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"error-context","time":{"start":1760064722326,"stop":1760064722326,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"f1fb2d856fcc6683","name":"error-context","source":"f1fb2d856fcc6683.md","type":"text/markdown","size":326}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"trace","time":{"start":1760064722327,"stop":1760064722327,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"1164133bf1a7f302","name":"trace","source":"1164133bf1a7f302.zip","type":"application/vnd.allure.playwright-trace","size":762477}],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1},{"name":"After Hooks","time":{"start":1760064720787,"stop":1760064722216,"duration":1429},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760064720967,"stop":1760064720967,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"Fixture \"context\"","time":{"start":1760064720967,"stop":1760064722211,"duration":1244},"status":"passed","steps":[{"name":"Close context","time":{"start":1760064721072,"stop":1760064722209,"duration":1137},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0}],"attachments":[{"uid":"fc0e3ce91791592c","name":"stdout","source":"fc0e3ce91791592c.txt","type":"text/plain","size":14017},{"uid":"1da021183fe9b4","name":"stderr","source":"1da021183fe9b4.txt","type":"text/plain","size":251}],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":59,"attachmentsCount":6},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth-web3.email.solana-vite-wa-email-verification.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth-web3/email/solana-vite-wa-email-verification.spec.ts > Solana Vite Wallet Adapter Email Verification Tests"},{"name":"host","value":"953c2e0fcdc5"},{"name":"thread","value":"pid-2358-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Solana Vite Wallet Adapter Email Verification Tests"},{"name":"epic","value":"Sample Applications"},{"name":"feature","value":"Solana Vite Wallet Adapter Email Verification"},{"name":"story","value":"Solana Vite Wallet Adapter Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"solana-vite-wa-email-verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[{"uid":"ae647128d0442d15","status":"broken","statusDetails":"Test timeout of 30000ms exceeded.","time":{"start":1760064658600,"stop":1760064689837,"duration":31237}},{"uid":"6460da94bb68928e","status":"broken","statusDetails":"Test timeout of 30000ms exceeded.","time":{"start":1760064626289,"stop":1760064657418,"duration":31129}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["solana-vite-wa-email-verification"]},"source":"20c8500c731b7af2.json","parameterValues":["WebKit"]}