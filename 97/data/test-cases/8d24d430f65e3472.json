{"uid":"8d24d430f65e3472","name":"should complete email verification flow","fullName":"civic-auth/email/nextjs-email-verification.spec.ts:13:7","historyId":"b285921d959a85ffbe210df5f29f3d17:37e9d81b4e6e0e8f6c9116746379d23f","time":{"start":1757522159394,"stop":1757522166147,"duration":6753},"status":"failed","statusMessage":"Error: Email login option not found in iframe","statusTrace":"Error: Email login option not found in iframe\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/email/nextjs-email-verification.spec.ts:125:17","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: Email login option not found in iframe","statusTrace":"Error: Email login option not found in iframe\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/email/nextjs-email-verification.spec.ts:125:17","steps":[{"name":"Before Hooks","time":{"start":1757522159396,"stop":1757522160513,"duration":1117},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757522159397,"stop":1757522160512,"duration":1115},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757522159412,"stop":1757522159786,"duration":374},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757522159417,"stop":1757522159785,"duration":368},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757522159788,"stop":1757522159867,"duration":79},"status":"passed","steps":[{"name":"Create context","time":{"start":1757522159792,"stop":1757522159859,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757522159867,"stop":1757522160498,"duration":631},"status":"passed","steps":[{"name":"Create page","time":{"start":1757522159869,"stop":1757522160498,"duration":629},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1757522160507,"stop":1757522160507,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1757522160510,"stop":1757522160510,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1757522160512,"stop":1757522160512,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to Next.js app home page","time":{"start":1757522160520,"stop":1757522161830,"duration":1310},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1757522160524,"stop":1757522161830,"duration":1306},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Wait for load state \"networkidle\"","time":{"start":1757522161832,"stop":1757522161833,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757522161834,"stop":1757522161835,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1757522161838,"stop":1757522161913,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1757522161916,"stop":1757522161942,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1757522161943,"stop":1757522162952,"duration":1009},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1757522162953,"stop":1757522163034,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Handle iframe email verification flow","time":{"start":1757522163035,"stop":1757522166304,"duration":3269},"status":"failed","statusMessage":"Error: Email login option not found in iframe","statusTrace":"Error: Email login option not found in iframe\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/email/nextjs-email-verification.spec.ts:125:17","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757522163039,"stop":1757522163052,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1757522163053,"stop":1757522165961,"duration":2908},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for login UI to load","time":{"start":1757522165962,"stop":1757522166003,"duration":41},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1757522165965,"stop":1757522165980,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1757522165981,"stop":1757522166003,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Debug iframe content","time":{"start":1757522166003,"stop":1757522166268,"duration":265},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('*')","time":{"start":1757522166036,"stop":1757522166072,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('button')","time":{"start":1757522166073,"stop":1757522166086,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"login\"], [data-testid*=\"email\"], [role=\"button\"], .button, [class*=\"button\"]')","time":{"start":1757522166119,"stop":1757522166132,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Find and click email login option","time":{"start":1757522166269,"stop":1757522166303,"duration":34},"status":"failed","statusMessage":"Error: Email login option not found in iframe","statusTrace":"Error: Email login option not found in iframe\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/email/nextjs-email-verification.spec.ts:125:17","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1757522166271,"stop":1757522166281,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('input[type=\"email\"], [data-testid*=\"email\"]')","time":{"start":1757522166282,"stop":1757522166292,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('input')","time":{"start":1757522166293,"stop":1757522166303,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1757522167163,"stop":1757522167163,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"a3ca804f64cb5b05","name":"screenshot","source":"a3ca804f64cb5b05.png","type":"image/png","size":38050}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757522167163,"stop":1757522167163,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"253bcacf60445802","name":"video","source":"253bcacf60445802.webm","type":"video/webm","size":88504}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1757522167163,"stop":1757522167163,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2799598168845db4","name":"error-context","source":"2799598168845db4.md","type":"text/markdown","size":1469}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1757522167163,"stop":1757522167163,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"991355154f984ff1","name":"trace","source":"991355154f984ff1.zip","type":"application/vnd.allure.playwright-trace","size":602843}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1757522166304,"stop":1757522166546,"duration":242},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757522166336,"stop":1757522166336,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757522166336,"stop":1757522166539,"duration":203},"status":"passed","steps":[{"name":"Close context","time":{"start":1757522166491,"stop":1757522166537,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"4f3d09f5d54d4081","name":"stdout","source":"4f3d09f5d54d4081.txt","type":"text/plain","size":20930}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":41,"attachmentsCount":5,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Firefox > civic-auth/email/nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"pid-6337-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"story","value":"Next.js Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"nextjs-authentication-email-verification-code"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Next.js Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Firefox"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["nextjs-authentication-email-verification-code"]},"source":"8d24d430f65e3472.json","parameterValues":["Civic Auth Applications - Firefox"]}