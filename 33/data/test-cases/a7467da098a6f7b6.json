{"uid":"a7467da098a6f7b6","name":"should complete full login and logout flow with basepath","fullName":"civic-auth/basePath/nextjs-login.spec.ts:10:7","historyId":"064bb6eda9e6ff68e255b16be17be320:37e9d81b4e6e0e8f6c9116746379d23f","time":{"start":1757010507952,"stop":1757010539886,"duration":31934},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:32:16","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:32:16","steps":[{"name":"Before Hooks","time":{"start":1757010507956,"stop":1757010509159,"duration":1203},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757010507957,"stop":1757010509159,"duration":1202},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757010507970,"stop":1757010508356,"duration":386},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757010507975,"stop":1757010508355,"duration":380},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757010508358,"stop":1757010508447,"duration":89},"status":"passed","steps":[{"name":"Create context","time":{"start":1757010508361,"stop":1757010508438,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757010508447,"stop":1757010509126,"duration":679},"status":"passed","steps":[{"name":"Create page","time":{"start":1757010508449,"stop":1757010509126,"duration":677},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757010509152,"stop":1757010509152,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757010509156,"stop":1757010509156,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757010509158,"stop":1757010509158,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/demo\"","time":{"start":1757010509230,"stop":1757010509495,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1757010509497,"stop":1757010509984,"duration":487},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757010509985,"stop":1757010509985,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1757010509988,"stop":1757010510067,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1757010510070,"stop":1757010540077,"duration":30007},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:32:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1757010540964,"stop":1757010540964,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"dc97e39c6514d38","name":"screenshot","source":"dc97e39c6514d38.png","type":"image/png","size":32982}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757010540964,"stop":1757010540964,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"9e96652a83da66e4","name":"video","source":"9e96652a83da66e4.webm","type":"video/webm","size":232236}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1757010540964,"stop":1757010540964,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"76ba40e7450a98b5","name":"error-context","source":"76ba40e7450a98b5.md","type":"text/markdown","size":290}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1757010540965,"stop":1757010540965,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"180a8a6e80476ef5","name":"trace","source":"180a8a6e80476ef5.zip","type":"application/vnd.allure.playwright-trace","size":1261099}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1757010540077,"stop":1757010540299,"duration":222},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757010540099,"stop":1757010540100,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757010540100,"stop":1757010540292,"duration":192},"status":"passed","steps":[{"name":"Close context","time":{"start":1757010540267,"stop":1757010540290,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":24,"attachmentsCount":4,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.basePath.nextjs-login.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Firefox > civic-auth/basePath/nextjs-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6376-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login Basepath"},{"name":"feature","value":"Next.js Login (BasePath)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Firefox"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"794c4aa6ea241afe","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010474413,"stop":1757010506343,"duration":31930}},{"uid":"65f3eec80bf7daf1","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010440728,"stop":1757010472685,"duration":31957}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":19,"broken":0,"skipped":0,"passed":13,"unknown":0,"total":32},"items":[{"uid":"3396395201e7c6e","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/3396395201e7c6e","status":"passed","time":{"start":1757010571772,"stop":1757010585918,"duration":14146}},{"uid":"dee932806c2d4b","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/dee932806c2d4b","status":"passed","time":{"start":1757009831798,"stop":1757009848225,"duration":16427}},{"uid":"1a8e344f564d6828","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/1a8e344f564d6828","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010002964,"stop":1757010034836,"duration":31872}},{"uid":"a7fcf983cbc9184c","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/a7fcf983cbc9184c","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010642820,"stop":1757010674653,"duration":31833}},{"uid":"fe2fb7e1ae91962b","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/fe2fb7e1ae91962b","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757009993878,"stop":1757010025719,"duration":31841}},{"uid":"1a191c64859309cf","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/1a191c64859309cf","status":"passed","time":{"start":1757009745247,"stop":1757009759518,"duration":14271}},{"uid":"9562807c34f61489","reportUrl":"https://civicteam.github.io/civic-auth-examples/29//#testresult/9562807c34f61489","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n    2 × locator resolved to hidden <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/demo/api/auth/login?state=eyJ1dWlkIjoiOTU3NTkwMTMtZmY1My00ZGU4LWJjYTUtYjk2ZmQxMTY0Y2VhIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhL…></iframe>\n    59 × locator resolved to 2 elements. Proceeding with the first one: <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/demo/api/auth/login?state=eyJ1dWlkIjoiOTU3NTkwMTMtZmY1My00ZGU4LWJjYTUtYjk2ZmQxMTY0Y2VhIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhL…></iframe>\n","time":{"start":1757008977922,"stop":1757009010639,"duration":32717}},{"uid":"1cbc3ef008b833dd","reportUrl":"https://civicteam.github.io/civic-auth-examples/27//#testresult/1cbc3ef008b833dd","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n","time":{"start":1757008418289,"stop":1757008450126,"duration":31837}},{"uid":"287993f1e74de3fa","reportUrl":"https://civicteam.github.io/civic-auth-examples/25//#testresult/287993f1e74de3fa","status":"passed","time":{"start":1757007778156,"stop":1757007795855,"duration":17699}},{"uid":"7928e27b344ff6bb","reportUrl":"https://civicteam.github.io/civic-auth-examples/24//#testresult/7928e27b344ff6bb","status":"passed","time":{"start":1757007098675,"stop":1757007115768,"duration":17093}},{"uid":"d13273e6bdeb082c","reportUrl":"https://civicteam.github.io/civic-auth-examples/22//#testresult/d13273e6bdeb082c","status":"failed","statusDetails":"Error: browserType.launch: Target page, context or browser has been closed\nBrowser logs:\n\n╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\n║ Firefox is unable to launch if the $HOME folder isn't owned by the current user.                                  ║\n║ Workaround: Set the HOME=/root environment variable in your GitHub Actions workflow file when running Playwright. ║\n╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\nCall log:\n  - <launching> /ms-playwright/firefox-1482/firefox/firefox -no-remote -headless -profile /tmp/playwright_firefoxdev_profile-DPCHbC -juggler-pipe -silent\n  - <launched> pid=1199\n  - [pid=1199][err] Running Nightly as root in a regular user's session is not supported.  ($HOME is /github/home which is owned by uid 1001.)\n  - [pid=1199] <process did exit: exitCode=1, signal=null>\n  - [pid=1199] starting temporary directories cleanup\n","time":{"start":1757006456222,"stop":1757006456229,"duration":7}},{"uid":"9cea7dee77cb46f5","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/9cea7dee77cb46f5","status":"passed","time":{"start":1757004791908,"stop":1757004804667,"duration":12759}},{"uid":"69d5fa399f4af81e","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/69d5fa399f4af81e","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n","time":{"start":1757004927712,"stop":1757004959690,"duration":31978}},{"uid":"4942aef54a96f718","reportUrl":"https://civicteam.github.io/civic-auth-examples/7//#testresult/4942aef54a96f718","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757004719674,"stop":1757004719679,"duration":5}},{"uid":"fe83b0b012ddb5c4","reportUrl":"https://civicteam.github.io/civic-auth-examples/8//#testresult/fe83b0b012ddb5c4","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757003226325,"stop":1757003226330,"duration":5}},{"uid":"76fea53491bd2d05","reportUrl":"https://civicteam.github.io/civic-auth-examples/11//#testresult/76fea53491bd2d05","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1482/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757004362694,"stop":1757004362701,"duration":7}},{"uid":"769892836d5430f","reportUrl":"https://civicteam.github.io/civic-auth-examples/9//#testresult/769892836d5430f","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757004039460,"stop":1757004039466,"duration":6}},{"uid":"e72403e36eceec6a","reportUrl":"https://civicteam.github.io/civic-auth-examples/9//#testresult/e72403e36eceec6a","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757004029803,"stop":1757004029813,"duration":10}},{"uid":"12e8ad4d0b5b9e19","reportUrl":"https://civicteam.github.io/civic-auth-examples/5//#testresult/12e8ad4d0b5b9e19","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n","time":{"start":1757002339481,"stop":1757002371364,"duration":31883}},{"uid":"990764d86f6066fa","reportUrl":"https://civicteam.github.io/civic-auth-examples/7//#testresult/990764d86f6066fa","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757003225332,"stop":1757003225337,"duration":5}}]},"tags":[]},"source":"a7467da098a6f7b6.json","parameterValues":["Civic Auth Applications - Firefox"]}