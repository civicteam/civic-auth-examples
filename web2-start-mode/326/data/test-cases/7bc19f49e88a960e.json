{"uid":"7bc19f49e88a960e","name":"should rehydrate session via API call","fullName":"civic-auth/rehydration/nextjs-session-rehydration.spec.ts:147:7","historyId":"6fb6daf5e47c99b00eb4e441f3a52d4c:16da5751320efd68221c8b8753b00279","time":{"start":1763052915099,"stop":1763052928676,"duration":13577},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":true,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1763052915099,"stop":1763052915988,"duration":889},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1763052915100,"stop":1763052915987,"duration":887},"status":"passed","steps":[{"name":"Fixture \"context\"","time":{"start":1763052915106,"stop":1763052915115,"duration":9},"status":"passed","steps":[{"name":"Create context","time":{"start":1763052915107,"stop":1763052915112,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1763052915116,"stop":1763052915977,"duration":861},"status":"passed","steps":[{"name":"Create page","time":{"start":1763052915119,"stop":1763052915977,"duration":858},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763052915980,"stop":1763052915980,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763052915985,"stop":1763052915985,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763052915986,"stop":1763052915986,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":8,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to \"/\"","time":{"start":1763052915993,"stop":1763052916259,"duration":266},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1763052916260,"stop":1763052917606,"duration":1346},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1763052917607,"stop":1763052917607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1763052917608,"stop":1763052917641,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1763052917641,"stop":1763052917650,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763052917651,"stop":1763052918658,"duration":1007},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1763052918659,"stop":1763052918762,"duration":103},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1763052918763,"stop":1763052918923,"duration":160},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1763052918924,"stop":1763052919005,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1763052919033,"stop":1763052919054,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763052919056,"stop":1763052919085,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763052919086,"stop":1763052920103,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763052920104,"stop":1763052921812,"duration":1708},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1763052921855,"stop":1763052925992,"duration":4137},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeVisible\"","time":{"start":1763052925993,"stop":1763052926029,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763052926037,"stop":1763052926038,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763052926038,"stop":1763052926039,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763052926039,"stop":1763052926042,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"GET \"/api/session/get\"","time":{"start":1763052926052,"stop":1763052926360,"duration":308},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763052926365,"stop":1763052928371,"duration":2006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763052928374,"stop":1763052928374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763052928374,"stop":1763052928374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763052928375,"stop":1763052928375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"not toBe\"","time":{"start":1763052928375,"stop":1763052928375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeVisible\"","time":{"start":1763052928376,"stop":1763052928381,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"After Hooks","time":{"start":1763052928382,"stop":1763052928692,"duration":310},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1763052928382,"stop":1763052928382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763052928382,"stop":1763052928688,"duration":306},"status":"passed","steps":[{"name":"Close context","time":{"start":1763052928551,"stop":1763052928688,"duration":137},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":38,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.rehydration.nextjs-session-rehydration.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/rehydration/nextjs-session-rehydration.spec.ts > Session Rehydration - NextJS"},{"name":"host","value":"de43bf329344"},{"name":"thread","value":"pid-2430-worker-1"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Session Rehydration - NextJS"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Session Rehydration"},{"name":"feature","value":"NextJS Session Rehydration"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"af13d21de672382b","status":"passed","time":{"start":1763052207280,"stop":1763052218753,"duration":11473}},{"uid":"5f048397793d313e","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n","time":{"start":1763052166583,"stop":1763052204451,"duration":37868}},{"uid":"ccc0fd24a351a894","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    64 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiOWFmNTE2MGItYWIxMy00NDI2LTgxZTQtYWFjMmM1NmJhZDMyIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n","time":{"start":1763052127268,"stop":1763052165138,"duration":37870}}],"categories":[],"tags":[]},"source":"7bc19f49e88a960e.json","parameterValues":["WebKit"]}