{"uid":"a503b3c8d1460ff6","name":"should handle refresh token flow correctly in modal mode","fullName":"civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:12:7","historyId":"0650ddbeaf7e9e58b625b0286ac1193b:c42e4eb120398df7b1640a5725c5d83a","time":{"start":1760134314930,"stop":1760134330302,"duration":15372},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:49:75","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:49:75","steps":[{"name":"Before Hooks","time":{"start":1760134314939,"stop":1760134317391,"duration":2452},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760134314943,"stop":1760134317390,"duration":2447},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760134314978,"stop":1760134315812,"duration":834},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760134314988,"stop":1760134315812,"duration":824},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760134315828,"stop":1760134316065,"duration":237},"status":"passed","steps":[{"name":"Create context","time":{"start":1760134315842,"stop":1760134316008,"duration":166},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760134316066,"stop":1760134317354,"duration":1288},"status":"passed","steps":[{"name":"Create page","time":{"start":1760134316074,"stop":1760134317354,"duration":1280},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760134317386,"stop":1760134317386,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"6f58efac16d30fa9","name":"screenshot","source":"6f58efac16d30fa9.png","type":"image/png","size":92064}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760134317388,"stop":1760134317388,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"653bf6827d2a8753","name":"video","source":"653bf6827d2a8753.webm","type":"video/webm","size":15877}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760134317390,"stop":1760134317390,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"a38be2e1f46a378f","name":"video","source":"a38be2e1f46a378f.webm","type":"video/webm","size":318328}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":3,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":3,"hasContent":true},{"name":"Navigate to \"/\"","time":{"start":1760134317405,"stop":1760134317641,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760134317643,"stop":1760134318095,"duration":452},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760134318096,"stop":1760134318097,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#startAuthModalButton')","time":{"start":1760134318100,"stop":1760134318196,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760134318197,"stop":1760134318197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760134318199,"stop":1760134318401,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760134318402,"stop":1760134319029,"duration":627},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760134319032,"stop":1760134320368,"duration":1336},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760134320369,"stop":1760134325874,"duration":5505},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toContainText\"","time":{"start":1760134325876,"stop":1760134330888,"duration":5012},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:49:75","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"error-context","time":{"start":1760134331925,"stop":1760134331925,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"f0b4881d2f2a4b59","name":"error-context","source":"f0b4881d2f2a4b59.md","type":"text/markdown","size":1600}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760134331926,"stop":1760134331926,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"d3eb3929fd392f49","name":"trace","source":"d3eb3929fd392f49.zip","type":"application/vnd.allure.playwright-trace","size":3392658}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760134330888,"stop":1760134331200,"duration":312},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760134330917,"stop":1760134330917,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760134330917,"stop":1760134331192,"duration":275},"status":"passed","steps":[{"name":"Close context","time":{"start":1760134331165,"stop":1760134331189,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"d157b8b113fb8c9a","name":"stdout","source":"d157b8b113fb8c9a.txt","type":"text/plain","size":77235}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":27,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.refresh.vanillajs-modal-refresh-token.spec.ts"},{"name":"titlePath","value":" > Firefox > civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts > Civic Auth Applications"},{"name":"host","value":"730e87f2abb6"},{"name":"thread","value":"pid-2287-worker-0"},{"name":"parentSuite","value":"Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Refresh Token"},{"name":"feature","value":"VanillaJS Modal Refresh Token Flow"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Firefox"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c131f65666e340c2","status":"failed","statusDetails":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","time":{"start":1760134296070,"stop":1760134309498,"duration":13428}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"a503b3c8d1460ff6.json","parameterValues":["Firefox"]}