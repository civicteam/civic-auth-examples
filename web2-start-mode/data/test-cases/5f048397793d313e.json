{"uid":"5f048397793d313e","name":"should rehydrate session via API call","fullName":"civic-auth/rehydration/nextjs-session-rehydration.spec.ts:147:7","historyId":"6fb6daf5e47c99b00eb4e441f3a52d4c:16da5751320efd68221c8b8753b00279","time":{"start":1763052166583,"stop":1763052204451,"duration":37868},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/rehydration/nextjs-session-rehydration.spec.ts:215:16","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/rehydration/nextjs-session-rehydration.spec.ts:215:16","steps":[{"name":"Before Hooks","time":{"start":1763052166587,"stop":1763052167697,"duration":1110},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1763052166588,"stop":1763052167693,"duration":1105},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1763052166628,"stop":1763052166816,"duration":188},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1763052166638,"stop":1763052166815,"duration":177},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763052166821,"stop":1763052166853,"duration":32},"status":"passed","steps":[{"name":"Create context","time":{"start":1763052166826,"stop":1763052166848,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1763052166854,"stop":1763052167641,"duration":787},"status":"passed","steps":[{"name":"Create page","time":{"start":1763052166859,"stop":1763052167641,"duration":782},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763052167681,"stop":1763052167681,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"adee37d91162d94a","name":"screenshot","source":"adee37d91162d94a.png","type":"image/png","size":102879}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763052167691,"stop":1763052167691,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8f1e9c3466e6e6e3","name":"video","source":"8f1e9c3466e6e6e3.webm","type":"video/webm","size":11518}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763052167693,"stop":1763052167693,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"d51ff39ceb46e827","name":"video","source":"d51ff39ceb46e827.webm","type":"video/webm","size":572599}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":10,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"Navigate to \"/\"","time":{"start":1763052167700,"stop":1763052168065,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1763052168067,"stop":1763052169849,"duration":1782},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1763052169850,"stop":1763052169856,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1763052169865,"stop":1763052169971,"duration":106},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1763052169973,"stop":1763052170013,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763052170014,"stop":1763052171026,"duration":1012},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1763052171027,"stop":1763052171088,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1763052171092,"stop":1763052171172,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1763052171177,"stop":1763052171227,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1763052171245,"stop":1763052171260,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763052171261,"stop":1763052171279,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763052171280,"stop":1763052172291,"duration":1011},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763052172292,"stop":1763052173595,"duration":1303},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1763052173611,"stop":1763052203631,"duration":30020},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    63 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *; local-network-access *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNTllMzVjZDgtNzczZS00YWNlLWJhY2UtZTViMDc1MGM1MWIzIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdX…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/rehydration/nextjs-session-rehydration.spec.ts:215:16","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"error-context","time":{"start":1763052206087,"stop":1763052206087,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8e7ea8a4f061e8b","name":"error-context","source":"8e7ea8a4f061e8b.md","type":"text/markdown","size":2165}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"trace","time":{"start":1763052206087,"stop":1763052206087,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2942f75564eb8ace","name":"trace","source":"2942f75564eb8ace.zip","type":"application/vnd.allure.playwright-trace","size":582913}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"After Hooks","time":{"start":1763052203637,"stop":1763052204701,"duration":1064},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1763052204366,"stop":1763052204366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763052204366,"stop":1763052204690,"duration":324},"status":"passed","steps":[{"name":"Close context","time":{"start":1763052204585,"stop":1763052204687,"duration":102},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":31,"shouldDisplayMessage":false,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.rehydration.nextjs-session-rehydration.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/rehydration/nextjs-session-rehydration.spec.ts > Session Rehydration - NextJS"},{"name":"host","value":"d4d63c70fbd2"},{"name":"thread","value":"pid-2428-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Session Rehydration - NextJS"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Session Rehydration"},{"name":"feature","value":"NextJS Session Rehydration"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"5f048397793d313e.json","parameterValues":["WebKit"]}