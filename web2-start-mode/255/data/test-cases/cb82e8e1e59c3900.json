{"uid":"cb82e8e1e59c3900","name":"should call useUser onSignIn callback and handle sign-out correctly","fullName":"civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:58:7","historyId":"4e5bae01dcf2d4cb4dc41172bef1c609:16da5751320efd68221c8b8753b00279","time":{"start":1760112811814,"stop":1760112838966,"duration":27152},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1760112811818,"stop":1760112813111,"duration":1293},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760112811819,"stop":1760112813110,"duration":1291},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760112811852,"stop":1760112812011,"duration":159},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760112811858,"stop":1760112812011,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Fixture \"context\"","time":{"start":1760112812025,"stop":1760112812086,"duration":61},"status":"passed","steps":[{"name":"Create context","time":{"start":1760112812038,"stop":1760112812071,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Fixture \"page\"","time":{"start":1760112812087,"stop":1760112812996,"duration":909},"status":"passed","steps":[{"name":"Create page","time":{"start":1760112812095,"stop":1760112812995,"duration":900},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1},{"name":"Allure Metadata (metadata)","time":{"start":1760112813061,"stop":1760112813061,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760112813073,"stop":1760112813073,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Allure Metadata (metadata)","time":{"start":1760112813110,"stop":1760112813110,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":9}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":10},{"name":"Navigate to \"/onSignInTest\"","time":{"start":1760112813130,"stop":1760112814059,"duration":929},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for load state \"networkidle\"","time":{"start":1760112814070,"stop":1760112816858,"duration":2788},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760112816873,"stop":1760112816873,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('h1:has-text(\"Civic Auth - OnSignIn Callback Test (NextJS)\")')","time":{"start":1760112816930,"stop":1760112817314,"duration":384},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('button:has-text(\"Test Sign In\")')","time":{"start":1760112817325,"stop":1760112817433,"duration":108},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('button:has-text(\"Test Sign In\")')","time":{"start":1760112817441,"stop":1760112817832,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760112817839,"stop":1760112818310,"duration":471},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760112818322,"stop":1760112818528,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760112818537,"stop":1760112826128,"duration":7591},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760112826140,"stop":1760112830652,"duration":4512},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for timeout","time":{"start":1760112830654,"stop":1760112835685,"duration":5031},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toContain\"","time":{"start":1760112835714,"stop":1760112835715,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Click locator('button:has-text(\"Test Sign Out\")')","time":{"start":1760112835716,"stop":1760112835870,"duration":154},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for navigation","time":{"start":1760112835883,"stop":1760112836248,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Wait for load state \"networkidle\"","time":{"start":1760112836249,"stop":1760112837675,"duration":1426},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toBe\"","time":{"start":1760112837676,"stop":1760112837676,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Expect \"toBeVisible\"","time":{"start":1760112837685,"stop":1760112837826,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"After Hooks","time":{"start":1760112837833,"stop":1760112839213,"duration":1380},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760112837835,"stop":1760112837836,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"Fixture \"context\"","time":{"start":1760112837839,"stop":1760112839185,"duration":1346},"status":"passed","steps":[{"name":"Close context","time":{"start":1760112838738,"stop":1760112839185,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":1}],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":3}],"attachments":[{"uid":"9c02554b0d1b44a3","name":"stdout","source":"9c02554b0d1b44a3.txt","type":"text/plain","size":28832}],"parameters":[],"attachmentsCount":1,"hasContent":true,"shouldDisplayMessage":false,"stepsCount":32},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.onSignIn.nextjs-onsignin-callback.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts > Civic Auth onSignIn Callback Tests"},{"name":"host","value":"34d689f18963"},{"name":"thread","value":"pid-2441-worker-3"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth onSignIn Callback Tests"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"onSignIn Callback"},{"name":"feature","value":"Next.js onSignIn Callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9126cc98fc644e1f","status":"failed","statusDetails":"TimeoutError: locator.click: Timeout 20000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')\n    - locator resolved to <button aria-label=\"Dummy\" data-testid=\"civic-login-oidc-button-dummy\" class=\"cvc-inline-flex cvc-items-center cvc-justify-center cvc-whitespace-nowrap cvc-text-sm cvc-font-medium cvc-transition-colors focus-visible:cvc-outline-none focus-visible:cvc-ring-2 focus-visible:cvc-ring-primary focus-visible:cvc-ring-offset-2 disabled:cvc-pointer-events-none disabled:cvc-opacity-50 cvc-border cvc-bg-btn-idp cvc-text-btn-idp-text hover:cvc-bg-btn-idp-hover active:cvc-bg-btn-idp-active cvc-w-auto cvc-h-11 cvc-…>…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n","time":{"start":1760112774024,"stop":1760112808282,"duration":34258}}],"categories":[],"tags":[]},"source":"cb82e8e1e59c3900.json","parameterValues":["WebKit"]}