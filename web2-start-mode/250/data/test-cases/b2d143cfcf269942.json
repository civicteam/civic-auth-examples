{"uid":"b2d143cfcf269942","name":"should complete email verification flow","fullName":"civic-auth/email/nextjs-email-verification.spec.ts:15:7","historyId":"b285921d959a85ffbe210df5f29f3d17:16da5751320efd68221c8b8753b00279","time":{"start":1760057176556,"stop":1760057207965,"duration":31409},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760057176559,"stop":1760057178375,"duration":1816},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760057176560,"stop":1760057178374,"duration":1814},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760057176581,"stop":1760057177484,"duration":903},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760057176591,"stop":1760057177484,"duration":893},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760057177491,"stop":1760057177528,"duration":37},"status":"passed","steps":[{"name":"Create context","time":{"start":1760057177499,"stop":1760057177518,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760057177532,"stop":1760057178285,"duration":753},"status":"passed","steps":[{"name":"Create page","time":{"start":1760057177534,"stop":1760057178281,"duration":747},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760057178359,"stop":1760057178359,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760057178368,"stop":1760057178368,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760057178372,"stop":1760057178372,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to Next.js app home page","time":{"start":1760057178400,"stop":1760057179300,"duration":900},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760057178413,"stop":1760057179300,"duration":887},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Wait for load state \"networkidle\"","time":{"start":1760057179315,"stop":1760057182542,"duration":3227},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760057182547,"stop":1760057182548,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1760057182564,"stop":1760057182681,"duration":117},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1760057182683,"stop":1760057182740,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760057182747,"stop":1760057183760,"duration":1013},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1760057183762,"stop":1760057183926,"duration":164},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Handle iframe email verification flow","time":{"start":1760057183932,"stop":1760057206107,"duration":22175},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760057183945,"stop":1760057184179,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760057184181,"stop":1760057184282,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for login UI to load","time":{"start":1760057184283,"stop":1760057184389,"duration":106},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1760057184295,"stop":1760057184336,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760057184338,"stop":1760057184389,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Debug iframe content","time":{"start":1760057184390,"stop":1760057185833,"duration":1443},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('*')","time":{"start":1760057184542,"stop":1760057184611,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('button')","time":{"start":1760057184612,"stop":1760057184655,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"login\"], [data-testid*=\"email\"], [role=\"button\"], .button, [class*=\"button\"]')","time":{"start":1760057185242,"stop":1760057185290,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Find and click email login option","time":{"start":1760057185836,"stop":1760057192805,"duration":6969},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760057185848,"stop":1760057185873,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760057185874,"stop":1760057185903,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760057185903,"stop":1760057192801,"duration":6898},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Enter email address in iframe","time":{"start":1760057192806,"stop":1760057192975,"duration":169},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760057192819,"stop":1760057192847,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"594913@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760057192849,"stop":1760057192975,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Submit email form and intercept API call","time":{"start":1760057192975,"stop":1760057198896,"duration":5921},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760057192991,"stop":1760057198896,"duration":5905},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760057193012,"stop":1760057193084,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760057193084,"stop":1760057198422,"duration":5338},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Wait for verification code and retrieve from API","time":{"start":1760057198897,"stop":1760057201030,"duration":2133},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760057198915,"stop":1760057200220,"duration":1305},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760057200560,"stop":1760057200670,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760057200670,"stop":1760057200744,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760057200745,"stop":1760057200803,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760057200804,"stop":1760057200890,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"5\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760057200891,"stop":1760057200950,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760057200951,"stop":1760057201030,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1760057201031,"stop":1760057206105,"duration":5074},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":29,"attachmentsCount":0,"hasContent":true},{"name":"Verify login success with email","time":{"start":1760057206109,"stop":1760057207091,"duration":982},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1760057206119,"stop":1760057207090,"duration":971},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"not toContain\"","time":{"start":1760057207091,"stop":1760057207092,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Test logout functionality","time":{"start":1760057207092,"stop":1760057207540,"duration":448},"status":"passed","steps":[{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"594913@simulator.amazonses.com\")')","time":{"start":1760057207103,"stop":1760057207211,"duration":108},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1760057207212,"stop":1760057207237,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Log out\")')","time":{"start":1760057207238,"stop":1760057207484,"duration":246},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1760057207488,"stop":1760057207540,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1760057209213,"stop":1760057209213,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"3278c46896f569a5","name":"screenshot","source":"3278c46896f569a5.png","type":"image/png","size":57629}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1760057209213,"stop":1760057209213,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"1c52b1ce7fb9f86f","name":"video","source":"1c52b1ce7fb9f86f.webm","type":"video/webm","size":341347}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1760057209214,"stop":1760057209214,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"b4a89a18faeb1467","name":"error-context","source":"b4a89a18faeb1467.md","type":"text/markdown","size":323}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760057209214,"stop":1760057209214,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"aa8b79034c939d83","name":"trace","source":"aa8b79034c939d83.zip","type":"application/vnd.allure.playwright-trace","size":562162}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760057207497,"stop":1760057208936,"duration":1439},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760057208237,"stop":1760057208237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760057208238,"stop":1760057208907,"duration":669},"status":"passed","steps":[{"name":"Close context","time":{"start":1760057208747,"stop":1760057208897,"duration":150},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"c12aa3bd00a0d150","name":"stdout","source":"c12aa3bd00a0d150.txt","type":"text/plain","size":36295},{"uid":"c70e78430900f6ab","name":"stderr","source":"c70e78430900f6ab.txt","type":"text/plain","size":251}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":65,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/email/nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"cd49370fc1f5"},{"name":"thread","value":"pid-2421-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"story","value":"Next.js Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"nextjs-authentication-email-verification-code"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Next.js Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["nextjs-authentication-email-verification-code"]},"source":"b2d143cfcf269942.json","parameterValues":["WebKit"]}