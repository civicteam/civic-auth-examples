{"uid":"ffe65a3a09bead8f","name":"should complete full embedded email verification and logout flow","fullName":"civic-auth/email/vanillajs-email-verification.spec.ts:13:7","historyId":"4a8b40521456a99e7fa2386de5b3ba03:37e9d81b4e6e0e8f6c9116746379d23f","time":{"start":1757015079968,"stop":1757015089244,"duration":9276},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1757015079970,"stop":1757015081270,"duration":1300},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757015079971,"stop":1757015081266,"duration":1295},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757015079990,"stop":1757015080456,"duration":466},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757015079994,"stop":1757015080455,"duration":461},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757015080458,"stop":1757015080549,"duration":91},"status":"passed","steps":[{"name":"Create context","time":{"start":1757015080461,"stop":1757015080539,"duration":78},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757015080549,"stop":1757015081231,"duration":682},"status":"passed","steps":[{"name":"Create page","time":{"start":1757015080551,"stop":1757015081231,"duration":680},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757015081257,"stop":1757015081257,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757015081263,"stop":1757015081263,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757015081265,"stop":1757015081265,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to VanillaJS app home page","time":{"start":1757015081280,"stop":1757015081487,"duration":207},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1757015081284,"stop":1757015081487,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Wait for page to load","time":{"start":1757015081489,"stop":1757015082737,"duration":1248},"status":"passed","steps":[{"name":"Wait for load state \"networkidle\"","time":{"start":1757015081494,"stop":1757015082735,"duration":1241},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757015082736,"stop":1757015082737,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Click sign in button","time":{"start":1757015082738,"stop":1757015082834,"duration":96},"status":"passed","steps":[{"name":"Click locator('#loginButton')","time":{"start":1757015082742,"stop":1757015082834,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Handle iframe email verification flow","time":{"start":1757015082835,"stop":1757015089451,"duration":6616},"status":"passed","steps":[{"name":"Wait for selector locator('#authContainer #civic-auth-iframe')","time":{"start":1757015082837,"stop":1757015082862,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('body')","time":{"start":1757015082863,"stop":1757015083184,"duration":321},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for login UI to load","time":{"start":1757015083184,"stop":1757015083463,"duration":279},"status":"passed","steps":[{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1757015083186,"stop":1757015083429,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1757015083431,"stop":1757015083463,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Find and click email login option","time":{"start":1757015083464,"stop":1757015083568,"duration":104},"status":"passed","steps":[{"name":"Query count locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1757015083466,"stop":1757015083481,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1757015083483,"stop":1757015083499,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1757015083500,"stop":1757015083568,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Enter email address in iframe","time":{"start":1757015083568,"stop":1757015083618,"duration":50},"status":"passed","steps":[{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1757015083571,"stop":1757015083586,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"373971@simulator.amazonses.com\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1757015083588,"stop":1757015083618,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Submit email form and intercept API call","time":{"start":1757015083619,"stop":1757015084213,"duration":594},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1757015083621,"stop":1757015084213,"duration":592},"status":"passed","steps":[{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1757015083624,"stop":1757015083661,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#authContainer #civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1757015083663,"stop":1757015083762,"duration":99},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Wait for verification code and retrieve from API","time":{"start":1757015084214,"stop":1757015085603,"duration":1389},"status":"passed","steps":[{"name":"Wait for selector locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1757015084215,"stop":1757015085052,"duration":837},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"9\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1757015085403,"stop":1757015085437,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"2\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1757015085438,"stop":1757015085469,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"6\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1757015085470,"stop":1757015085501,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"0\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1757015085502,"stop":1757015085532,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"3\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1757015085533,"stop":1757015085565,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"2\" locator('#authContainer #civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1757015085566,"stop":1757015085603,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757015085604,"stop":1757015089451,"duration":3847},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":25,"attachmentsCount":0,"hasContent":true},{"name":"Verify login success","time":{"start":1757015089451,"stop":1757015089505,"duration":54},"status":"passed","steps":[{"name":"Click getByRole('button', { name: 'Sign Out' })","time":{"start":1757015089453,"stop":1757015089505,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Verify token refresh fails after logout","time":{"start":1757015089506,"stop":1757015089665,"duration":159},"status":"passed","steps":[{"name":"POST \"/oauth/token\"","time":{"start":1757015089510,"stop":1757015089663,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBe\"","time":{"start":1757015089664,"stop":1757015089665,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"After Hooks","time":{"start":1757015089665,"stop":1757015089744,"duration":79},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757015089666,"stop":1757015089666,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757015089666,"stop":1757015089736,"duration":70},"status":"passed","steps":[{"name":"Close context","time":{"start":1757015089704,"stop":1757015089735,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"a60b223387c56592","name":"stdout","source":"a60b223387c56592.txt","type":"text/plain","size":2138},{"uid":"5933988b15390a8a","name":"stderr","source":"5933988b15390a8a.txt","type":"text/plain","size":251}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":53,"attachmentsCount":2,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.vanillajs-email-verification.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Firefox > civic-auth/email/vanillajs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6197-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"VanillaJS Embedded Email Verification"},{"name":"story","value":"VanillaJS Embedded Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"vanillajs-embedded-email-verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Firefox"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"history":{"statistic":{"failed":7,"broken":0,"skipped":0,"passed":35,"unknown":0,"total":42},"items":[{"uid":"697a1015359be5b5","reportUrl":"https://civicteam.github.io/civic-auth-examples/36//#testresult/697a1015359be5b5","status":"passed","time":{"start":1757012330350,"stop":1757012339230,"duration":8880}},{"uid":"c910f48aeef9247c","reportUrl":"https://civicteam.github.io/civic-auth-examples/36//#testresult/c910f48aeef9247c","status":"passed","time":{"start":1757011254873,"stop":1757011263068,"duration":8195}},{"uid":"49674392155bfcc9","reportUrl":"https://civicteam.github.io/civic-auth-examples/35//#testresult/49674392155bfcc9","status":"passed","time":{"start":1757011198533,"stop":1757011208284,"duration":9751}},{"uid":"9f482bd7231475af","reportUrl":"https://civicteam.github.io/civic-auth-examples/35//#testresult/9f482bd7231475af","status":"passed","time":{"start":1757011272847,"stop":1757011282175,"duration":9328}},{"uid":"3b4dec3387e5390","reportUrl":"https://civicteam.github.io/civic-auth-examples/33//#testresult/3b4dec3387e5390","status":"passed","time":{"start":1757010392046,"stop":1757010403015,"duration":10969}},{"uid":"d356252feee7bdd3","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/d356252feee7bdd3","status":"passed","time":{"start":1757010348998,"stop":1757010357462,"duration":8464}},{"uid":"b4f8969bf57706a2","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/b4f8969bf57706a2","status":"passed","time":{"start":1757010889149,"stop":1757010897799,"duration":8650}},{"uid":"ab1a0d0b26b0daed","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/ab1a0d0b26b0daed","status":"passed","time":{"start":1757009758352,"stop":1757009767477,"duration":9125}},{"uid":"4a45349b60676133","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/4a45349b60676133","status":"passed","time":{"start":1757010427118,"stop":1757010436527,"duration":9409}},{"uid":"fc3d31eb20162115","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/fc3d31eb20162115","status":"passed","time":{"start":1757009741559,"stop":1757009751908,"duration":10349}},{"uid":"c96ac5ea2e3153a0","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/c96ac5ea2e3153a0","status":"passed","time":{"start":1757009722587,"stop":1757009731809,"duration":9222}},{"uid":"18641d3ad27522ed","reportUrl":"https://civicteam.github.io/civic-auth-examples/29//#testresult/18641d3ad27522ed","status":"passed","time":{"start":1757008866728,"stop":1757008879776,"duration":13048}},{"uid":"9fd1e5f8bf97682f","reportUrl":"https://civicteam.github.io/civic-auth-examples/27//#testresult/9fd1e5f8bf97682f","status":"passed","time":{"start":1757008242047,"stop":1757008258772,"duration":16725}},{"uid":"e3327ee458af56c8","reportUrl":"https://civicteam.github.io/civic-auth-examples/28//#testresult/e3327ee458af56c8","status":"passed","time":{"start":1757008250678,"stop":1757008267870,"duration":17192}},{"uid":"33b2cc67f541a5e2","reportUrl":"https://civicteam.github.io/civic-auth-examples/25//#testresult/33b2cc67f541a5e2","status":"passed","time":{"start":1757007728794,"stop":1757007739335,"duration":10541}},{"uid":"5a865c45fd3eb5d8","reportUrl":"https://civicteam.github.io/civic-auth-examples/24//#testresult/5a865c45fd3eb5d8","status":"passed","time":{"start":1757007065183,"stop":1757007081483,"duration":16300}},{"uid":"a3c0e75981d4d76","reportUrl":"https://civicteam.github.io/civic-auth-examples/24//#testresult/a3c0e75981d4d76","status":"passed","time":{"start":1757007059899,"stop":1757007070955,"duration":11056}},{"uid":"acff971b7fee51b9","reportUrl":"https://civicteam.github.io/civic-auth-examples/23//#testresult/acff971b7fee51b9","status":"passed","time":{"start":1757007061333,"stop":1757007075430,"duration":14097}},{"uid":"78e6b9bece0d1e0b","reportUrl":"https://civicteam.github.io/civic-auth-examples/22//#testresult/78e6b9bece0d1e0b","status":"failed","statusDetails":"Error: browserType.launch: Target page, context or browser has been closed\nBrowser logs:\n\n╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\n║ Firefox is unable to launch if the $HOME folder isn't owned by the current user.                                  ║\n║ Workaround: Set the HOME=/root environment variable in your GitHub Actions workflow file when running Playwright. ║\n╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\nCall log:\n  - <launching> /ms-playwright/firefox-1482/firefox/firefox -no-remote -headless -profile /tmp/playwright_firefoxdev_profile-oOF9vV -juggler-pipe -silent\n  - <launched> pid=992\n  - [pid=992][err] Running Nightly as root in a regular user's session is not supported.  ($HOME is /github/home which is owned by uid 1001.)\n  - [pid=992] <process did exit: exitCode=1, signal=null>\n  - [pid=992] starting temporary directories cleanup\n","time":{"start":1757006030167,"stop":1757006030172,"duration":5}},{"uid":"d55bb85c767c0c32","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/d55bb85c767c0c32","status":"passed","time":{"start":1757006154791,"stop":1757006163514,"duration":8723}}]},"tags":["vanillajs-embedded-email-verification"]},"source":"ffe65a3a09bead8f.json","parameterValues":["Civic Auth Applications - Firefox"]}