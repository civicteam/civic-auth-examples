{"uid":"3ed405beb3016b28","name":"should maintain callback state across page interactions","fullName":"civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:128:7","historyId":"34afd6fd1afcca5c725d881a5b6561e8:16da5751320efd68221c8b8753b00279","time":{"start":1760136776655,"stop":1760136810201,"duration":33546},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760136776655,"stop":1760136777294,"duration":639},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760136776656,"stop":1760136777294,"duration":638},"status":"passed","steps":[{"name":"Fixture \"context\"","time":{"start":1760136776663,"stop":1760136776669,"duration":6},"status":"passed","steps":[{"name":"Create context","time":{"start":1760136776663,"stop":1760136776668,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760136776669,"stop":1760136777289,"duration":620},"status":"passed","steps":[{"name":"Create page","time":{"start":1760136776670,"stop":1760136777289,"duration":619},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760136777292,"stop":1760136777292,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760136777293,"stop":1760136777293,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760136777294,"stop":1760136777294,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/onSignInTest\"","time":{"start":1760136777295,"stop":1760136778067,"duration":772},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760136778068,"stop":1760136779760,"duration":1692},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('h1:has-text(\"Civic Auth - OnSignIn Callback Test (NextJS)\")')","time":{"start":1760136779761,"stop":1760136779794,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('button:has-text(\"Test Sign In\")')","time":{"start":1760136779795,"stop":1760136779803,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Test Sign In\")')","time":{"start":1760136779804,"stop":1760136779884,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760136779885,"stop":1760136779921,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760136779922,"stop":1760136779981,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760136779982,"stop":1760136781563,"duration":1581},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760136781564,"stop":1760136807905,"duration":26341},"status":"failed","statusMessage":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    55 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNDNhMjQ5NTQtY2M3Ni00ZWVhLThkNGYtYzI1Yzc5MTkxNjhkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    55 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNDNhMjQ5NTQtY2M3Ni00ZWVhLThkNGYtYzI1Yzc5MTkxNjhkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:152:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1760136810724,"stop":1760136810724,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"c9d18712a22f2660","name":"screenshot","source":"c9d18712a22f2660.png","type":"image/png","size":254894}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1760136810724,"stop":1760136810724,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"bd70202684686d40","name":"video","source":"bd70202684686d40.webm","type":"video/webm","size":788378}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1760136810726,"stop":1760136810726,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"c9f63db91b45e164","name":"video","source":"c9f63db91b45e164.webm","type":"video/webm","size":110}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1760136810726,"stop":1760136810726,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8fc7014b9a4fcf19","name":"error-context","source":"8fc7014b9a4fcf19.md","type":"text/markdown","size":4908}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760136810726,"stop":1760136810726,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"6c9f2199aa807dc4","name":"trace","source":"6c9f2199aa807dc4.zip","type":"application/vnd.allure.playwright-trace","size":1495798}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760136806664,"stop":1760136810237,"duration":3573},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760136807552,"stop":1760136807552,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760136807552,"stop":1760136810210,"duration":2658},"status":"passed","steps":[{"name":"Close context","time":{"start":1760136807873,"stop":1760136810202,"duration":2329},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"b7596bce3f262143","name":"stdout","source":"b7596bce3f262143.txt","type":"text/plain","size":5362}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":27,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.onSignIn.nextjs-onsignin-callback.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts > Civic Auth onSignIn Callback Tests"},{"name":"host","value":"1c92f115e86f"},{"name":"thread","value":"pid-2464-worker-2"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth onSignIn Callback Tests"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"onSignIn Callback"},{"name":"feature","value":"Next.js onSignIn Callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"3ed405beb3016b28.json","parameterValues":["WebKit"]}