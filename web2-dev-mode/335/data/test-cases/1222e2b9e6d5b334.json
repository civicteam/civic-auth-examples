{"uid":"1222e2b9e6d5b334","name":"should complete login flow and redirect to customSuccessRoute","fullName":"civic-auth/loginSuccessUrl/fastify-login.spec.ts:10:7","historyId":"2535fc86d42af0109f0766d06148cd6c:16da5751320efd68221c8b8753b00279","time":{"start":1763063868859,"stop":1763063909891,"duration":41032},"status":"failed","statusMessage":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\nTimeout: 30000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 30000ms\n    33 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\n","statusTrace":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\nTimeout: 30000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 30000ms\n    33 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/fastify-login.spec.ts:60:24","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\nTimeout: 30000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 30000ms\n    33 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\n","statusTrace":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\nTimeout: 30000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 30000ms\n    33 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/fastify-login.spec.ts:60:24","steps":[{"name":"Before Hooks","time":{"start":1763063868867,"stop":1763063870671,"duration":1804},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1763063868868,"stop":1763063870671,"duration":1803},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1763063868888,"stop":1763063869846,"duration":958},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1763063868892,"stop":1763063869846,"duration":954},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763063869849,"stop":1763063869876,"duration":27},"status":"passed","steps":[{"name":"Create context","time":{"start":1763063869852,"stop":1763063869871,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1763063869876,"stop":1763063870590,"duration":714},"status":"passed","steps":[{"name":"Create page","time":{"start":1763063869878,"stop":1763063870590,"duration":712},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763063870657,"stop":1763063870657,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763063870667,"stop":1763063870667,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763063870669,"stop":1763063870669,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":10,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to \"/\"","time":{"start":1763063870674,"stop":1763063873286,"duration":2612},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"load\"","time":{"start":1763063873289,"stop":1763063873712,"duration":423},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1763063873717,"stop":1763063873804,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1763063873810,"stop":1763063873811,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1763063873970,"stop":1763063874283,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763063874290,"stop":1763063874319,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763063874321,"stop":1763063875327,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763063875328,"stop":1763063879245,"duration":3917},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toHaveURL\"","time":{"start":1763063879305,"stop":1763063909359,"duration":30054},"status":"failed","statusMessage":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\nTimeout: 30000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 30000ms\n    33 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\n","statusTrace":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\nTimeout: 30000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 30000ms\n    33 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiOTgwZDFkYTctY2I3Zi00ZTNmLTg1YTktNzdmZDEyYzEyNDAwIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuNiJ9&client_id=demo-client-1&source_system_id=MsnVEZURwZf8NFU3tqzDvC5CMo1W8eiWx-6b6FPo3L7&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-c04c7904-8201-4120-a212-ba67129e4d42\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/fastify-login.spec.ts:60:24","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"screenshot","time":{"start":1763063911529,"stop":1763063911529,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"c5d5c7db40b3c5d0","name":"screenshot","source":"c5d5c7db40b3c5d0.png","type":"image/png","size":648236}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"video","time":{"start":1763063911628,"stop":1763063911628,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"361af8f95ef8d9db","name":"video","source":"361af8f95ef8d9db.webm","type":"video/webm","size":9125}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"video","time":{"start":1763063911629,"stop":1763063911629,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"ce5bb21fa59c7087","name":"video","source":"ce5bb21fa59c7087.webm","type":"video/webm","size":1039679}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"error-context","time":{"start":1763063911630,"stop":1763063911630,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"587a803a042e4ec4","name":"error-context","source":"587a803a042e4ec4.md","type":"text/markdown","size":1519}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"trace","time":{"start":1763063911630,"stop":1763063911630,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"dea8ae429662d04a","name":"trace","source":"dea8ae429662d04a.zip","type":"application/vnd.allure.playwright-trace","size":4324357}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"After Hooks","time":{"start":1763063909362,"stop":1763063910913,"duration":1551},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1763063910253,"stop":1763063910254,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763063910254,"stop":1763063910880,"duration":626},"status":"passed","steps":[{"name":"Close context","time":{"start":1763063910792,"stop":1763063910876,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":29,"shouldDisplayMessage":false,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.loginSuccessUrl.fastify-login.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/loginSuccessUrl/fastify-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"fbbdc39c16be"},{"name":"thread","value":"pid-2271-worker-2"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login SuccessUrl"},{"name":"feature","value":"Fastify Login (LoginSuccessUrl)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"1222e2b9e6d5b334.json","parameterValues":["WebKit"]}