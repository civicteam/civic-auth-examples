{"uid":"1ed3eea2b43ce0fd","name":"should call useUser onSignIn callback and handle sign-out correctly","fullName":"civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:58:7","historyId":"4e5bae01dcf2d4cb4dc41172bef1c609:16da5751320efd68221c8b8753b00279","time":{"start":1761669541233,"stop":1761669572646,"duration":31413},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1761669541237,"stop":1761669542299,"duration":1062},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1761669541238,"stop":1761669542299,"duration":1061},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1761669541278,"stop":1761669541417,"duration":139},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1761669541283,"stop":1761669541414,"duration":131},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1761669541423,"stop":1761669541494,"duration":71},"status":"passed","steps":[{"name":"Create context","time":{"start":1761669541438,"stop":1761669541483,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1761669541495,"stop":1761669542207,"duration":712},"status":"passed","steps":[{"name":"Create page","time":{"start":1761669541500,"stop":1761669542207,"duration":707},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1761669542267,"stop":1761669542267,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"65b8ce78e8da7fd1","name":"screenshot","source":"65b8ce78e8da7fd1.png","type":"image/png","size":52226}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1761669542277,"stop":1761669542277,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"abeab69377dda5da","name":"video","source":"abeab69377dda5da.webm","type":"video/webm","size":110}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1761669542298,"stop":1761669542298,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"39adb1f23cf27d8d","name":"video","source":"39adb1f23cf27d8d.webm","type":"video/webm","size":576533}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":3,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":3,"hasContent":true},{"name":"Navigate to \"/onSignInTest\"","time":{"start":1761669542302,"stop":1761669543476,"duration":1174},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1761669543480,"stop":1761669543484,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1761669543485,"stop":1761669543486,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('h1:has-text(\"Civic Auth - OnSignIn Callback Test (NextJS)\")')","time":{"start":1761669543508,"stop":1761669543771,"duration":263},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('button:has-text(\"Test Sign In\")')","time":{"start":1761669543775,"stop":1761669543950,"duration":175},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Test Sign In\")')","time":{"start":1761669543951,"stop":1761669545699,"duration":1748},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1761669545701,"stop":1761669545782,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1761669545785,"stop":1761669546200,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1761669546202,"stop":1761669550618,"duration":4416},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1761669550622,"stop":1761669554305,"duration":3683},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1761669554308,"stop":1761669559319,"duration":5011},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toContain\"","time":{"start":1761669559342,"stop":1761669559343,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Test Sign Out\")')","time":{"start":1761669559344,"stop":1761669559514,"duration":170},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for navigation","time":{"start":1761669559533,"stop":1761669561439,"duration":1906},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1761669561440,"stop":1761669572102,"duration":10662},"status":"failed","statusMessage":"Error: page.waitForLoadState: Test timeout of 30000ms exceeded.","statusTrace":"Error: page.waitForLoadState: Test timeout of 30000ms exceeded.\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:96:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"error-context","time":{"start":1761669573362,"stop":1761669573362,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"3424c2a7374e1784","name":"error-context","source":"3424c2a7374e1784.md","type":"text/markdown","size":407}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1761669573363,"stop":1761669573363,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"b0913eda7d5bdbb1","name":"trace","source":"b0913eda7d5bdbb1.zip","type":"application/vnd.allure.playwright-trace","size":1277270}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1761669571419,"stop":1761669572845,"duration":1426},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1761669571864,"stop":1761669571865,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1761669571865,"stop":1761669572828,"duration":963},"status":"passed","steps":[{"name":"Close context","time":{"start":1761669572095,"stop":1761669572818,"duration":723},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"415deee5db4544eb","name":"stdout","source":"415deee5db4544eb.txt","type":"text/plain","size":15338}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":32,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.onSignIn.nextjs-onsignin-callback.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts > Civic Auth onSignIn Callback Tests"},{"name":"host","value":"e5215159bf17"},{"name":"thread","value":"pid-2464-worker-2"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth onSignIn Callback Tests"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"onSignIn Callback"},{"name":"feature","value":"Next.js onSignIn Callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"1ed3eea2b43ce0fd.json","parameterValues":["WebKit"]}