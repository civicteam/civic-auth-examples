{"uid":"8a89903a81e71e19","name":"should rehydrate session via middleware on page reload","fullName":"civic-auth/rehydration/nextjs-session-rehydration.spec.ts:10:7","historyId":"374eba75be6d899a97215d80f1ee5479:16da5751320efd68221c8b8753b00279","time":{"start":1763070447410,"stop":1763070464144,"duration":16734},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1763070447412,"stop":1763070448183,"duration":771},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1763070447413,"stop":1763070448183,"duration":770},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1763070447428,"stop":1763070447515,"duration":87},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1763070447431,"stop":1763070447515,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763070447517,"stop":1763070447531,"duration":14},"status":"passed","steps":[{"name":"Create context","time":{"start":1763070447519,"stop":1763070447527,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1763070447531,"stop":1763070448164,"duration":633},"status":"passed","steps":[{"name":"Create page","time":{"start":1763070447532,"stop":1763070448164,"duration":632},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763070448177,"stop":1763070448177,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763070448180,"stop":1763070448180,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Allure Metadata (metadata)","time":{"start":1763070448182,"stop":1763070448182,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":10,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Navigate to \"/\"","time":{"start":1763070448197,"stop":1763070449077,"duration":880},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1763070449080,"stop":1763070450311,"duration":1231},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1763070450313,"stop":1763070450313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1763070450317,"stop":1763070450356,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1763070450358,"stop":1763070450371,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763070450371,"stop":1763070451377,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1763070451378,"stop":1763070451455,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1763070451459,"stop":1763070451489,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1763070451493,"stop":1763070451591,"duration":98},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1763070451714,"stop":1763070451760,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763070451762,"stop":1763070451805,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763070451806,"stop":1763070452824,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1763070452828,"stop":1763070454841,"duration":2013},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1763070454911,"stop":1763070457846,"duration":2935},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeVisible\"","time":{"start":1763070457847,"stop":1763070458294,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763070458309,"stop":1763070458311,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763070458310,"stop":1763070458311,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763070458316,"stop":1763070458318,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Reload","time":{"start":1763070458349,"stop":1763070460777,"duration":2428},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Wait for timeout","time":{"start":1763070460778,"stop":1763070463792,"duration":3014},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763070463794,"stop":1763070463795,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763070463795,"stop":1763070463795,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeTruthy\"","time":{"start":1763070463795,"stop":1763070463796,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"not toBe\"","time":{"start":1763070463796,"stop":1763070463796,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Expect \"toBeVisible\"","time":{"start":1763070463797,"stop":1763070463815,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"After Hooks","time":{"start":1763070463815,"stop":1763070464257,"duration":442},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1763070463816,"stop":1763070463816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1763070463817,"stop":1763070464251,"duration":434},"status":"passed","steps":[{"name":"Close context","time":{"start":1763070464000,"stop":1763070464251,"duration":251},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":40,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.rehydration.nextjs-session-rehydration.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/rehydration/nextjs-session-rehydration.spec.ts > Session Rehydration - NextJS"},{"name":"host","value":"fa54abe3b2e8"},{"name":"thread","value":"pid-2457-worker-1"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Session Rehydration - NextJS"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Session Rehydration"},{"name":"feature","value":"NextJS Session Rehydration"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2939ff4450ecdee","status":"failed","statusDetails":"TimeoutError: locator.waitFor: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe').contentFrame().locator('body') to be visible\n    54 × locator resolved to hidden <body>…</body>\n","time":{"start":1763070409845,"stop":1763070446625,"duration":36780}}],"categories":[],"tags":[]},"source":"8a89903a81e71e19.json","parameterValues":["WebKit"]}