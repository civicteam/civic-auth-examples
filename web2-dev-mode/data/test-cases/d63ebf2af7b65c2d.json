{"uid":"d63ebf2af7b65c2d","name":"should rehydrate session via middleware on page reload","fullName":"civic-auth/rehydration/nextjs-session-rehydration.spec.ts:13:7","historyId":"374eba75be6d899a97215d80f1ee5479:483ec23660f592decbe63698f54f1a47","time":{"start":1760120855812,"stop":1760120927180,"duration":71368},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 60000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    122 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNzIwMzRjZGMtNmEzNS00MDBhLWJjZjEtNmViOThkZGIxNmJkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 60000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    122 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNzIwMzRjZGMtNmEzNS00MDBhLWJjZjEtNmViOThkZGIxNmJkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/rehydration/nextjs-session-rehydration.spec.ts:82:16","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 60000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    122 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNzIwMzRjZGMtNmEzNS00MDBhLWJjZjEtNmViOThkZGIxNmJkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 60000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    122 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNzIwMzRjZGMtNmEzNS00MDBhLWJjZjEtNmViOThkZGIxNmJkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/rehydration/nextjs-session-rehydration.spec.ts:82:16","steps":[{"name":"Before Hooks","time":{"start":1760120855815,"stop":1760120856109,"duration":294},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760120855817,"stop":1760120856108,"duration":291},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760120855847,"stop":1760120855976,"duration":129},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760120855854,"stop":1760120855976,"duration":122},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760120855979,"stop":1760120856003,"duration":24},"status":"passed","steps":[{"name":"Create context","time":{"start":1760120855985,"stop":1760120855996,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760120856004,"stop":1760120856081,"duration":77},"status":"passed","steps":[{"name":"Create page","time":{"start":1760120856017,"stop":1760120856081,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760120856101,"stop":1760120856101,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"17512fe6db2310de","name":"screenshot","source":"17512fe6db2310de.png","type":"image/png","size":18139}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760120856106,"stop":1760120856106,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"3093987def4429a9","name":"video","source":"3093987def4429a9.webm","type":"video/webm","size":645168}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760120856108,"stop":1760120856108,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"7343619bf50c1989","name":"error-context","source":"7343619bf50c1989.md","type":"text/markdown","size":470}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":3,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":3,"hasContent":true},{"name":"Navigate to \"/\"","time":{"start":1760120856129,"stop":1760120857294,"duration":1165},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760120857297,"stop":1760120857303,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760120857304,"stop":1760120857306,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1760120857316,"stop":1760120857616,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1760120857633,"stop":1760120857686,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760120857688,"stop":1760120858765,"duration":1077},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1760120858774,"stop":1760120859094,"duration":320},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120859116,"stop":1760120859182,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760120859185,"stop":1760120859272,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760120859317,"stop":1760120859365,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760120859367,"stop":1760120859401,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760120859402,"stop":1760120860437,"duration":1035},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760120860439,"stop":1760120860828,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120860904,"stop":1760120920949,"duration":60045},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 60000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    122 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNzIwMzRjZGMtNmEzNS00MDBhLWJjZjEtNmViOThkZGIxNmJkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 60000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    122 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNzIwMzRjZGMtNmEzNS00MDBhLWJjZjEtNmViOThkZGIxNmJkIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/rehydration/nextjs-session-rehydration.spec.ts:82:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"trace","time":{"start":1760120927659,"stop":1760120927659,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"bb06d084f594b5da","name":"trace","source":"bb06d084f594b5da.zip","type":"application/vnd.allure.playwright-trace","size":557805}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760120920956,"stop":1760120927371,"duration":6415},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760120921346,"stop":1760120921346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760120921351,"stop":1760120927355,"duration":6004},"status":"passed","steps":[{"name":"Close context","time":{"start":1760120921942,"stop":1760120927351,"duration":5409},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"9c8b848d7644f14","name":"stdout","source":"9c8b848d7644f14.txt","type":"text/plain","size":12150}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":30,"attachmentsCount":5,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.rehydration.nextjs-session-rehydration.spec.ts"},{"name":"titlePath","value":" > Chromium > civic-auth/rehydration/nextjs-session-rehydration.spec.ts > Session Rehydration - NextJS"},{"name":"host","value":"49d1748a166d"},{"name":"thread","value":"pid-2468-worker-3"},{"name":"parentSuite","value":"Chromium"},{"name":"subSuite","value":"Session Rehydration - NextJS"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Session Rehydration"},{"name":"feature","value":"NextJS Session Rehydration"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Chromium"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"d63ebf2af7b65c2d.json","parameterValues":["Chromium"]}