{"uid":"158faf8e9837bbc","name":"should call useUser onSignIn callback and handle sign-out correctly","fullName":"civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:58:7","historyId":"4e5bae01dcf2d4cb4dc41172bef1c609:483ec23660f592decbe63698f54f1a47","time":{"start":1760125875384,"stop":1760125906218,"duration":30834},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760125875386,"stop":1760125876032,"duration":646},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760125875388,"stop":1760125876031,"duration":643},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760125875417,"stop":1760125875744,"duration":327},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760125875428,"stop":1760125875741,"duration":313},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760125875763,"stop":1760125875819,"duration":56},"status":"passed","steps":[{"name":"Create context","time":{"start":1760125875786,"stop":1760125875812,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760125875820,"stop":1760125875944,"duration":124},"status":"passed","steps":[{"name":"Create page","time":{"start":1760125875822,"stop":1760125875926,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760125876024,"stop":1760125876024,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760125876028,"stop":1760125876028,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760125876030,"stop":1760125876030,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/onSignInTest\"","time":{"start":1760125876036,"stop":1760125887875,"duration":11839},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760125887888,"stop":1760125887889,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760125887907,"stop":1760125887909,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('h1:has-text(\"Civic Auth - OnSignIn Callback Test (NextJS)\")')","time":{"start":1760125887942,"stop":1760125889060,"duration":1118},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('button:has-text(\"Test Sign In\")')","time":{"start":1760125889074,"stop":1760125889243,"duration":169},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Test Sign In\")')","time":{"start":1760125889254,"stop":1760125889586,"duration":332},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760125889594,"stop":1760125889708,"duration":114},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760125889717,"stop":1760125889821,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760125889826,"stop":1760125892985,"duration":3159},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760125892987,"stop":1760125906369,"duration":13382},"status":"failed","statusMessage":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    31 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiZDY4M2U4NWMtMTc2NS00NDVlLWE1NDItMmI2NTk2MTllODM1IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n","statusTrace":"Error: page.waitForSelector: Test timeout of 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    31 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiZDY4M2U4NWMtMTc2NS00NDVlLWE1NDItMmI2NTk2MTllODM1IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTEuMyJ9&appUrl=ht…></iframe>\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:83:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1760125907125,"stop":1760125907125,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"3d36464f716c3ac0","name":"screenshot","source":"3d36464f716c3ac0.png","type":"image/png","size":82541}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1760125907126,"stop":1760125907126,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"ffa945697c26b316","name":"video","source":"ffa945697c26b316.webm","type":"video/webm","size":446344}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1760125907127,"stop":1760125907127,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"99043614095a3806","name":"error-context","source":"99043614095a3806.md","type":"text/markdown","size":3765}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760125907130,"stop":1760125907130,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"b8c07ef50c205174","name":"trace","source":"b8c07ef50c205174.zip","type":"application/vnd.allure.playwright-trace","size":1740774}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760125905762,"stop":1760125906606,"duration":844},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760125905944,"stop":1760125905945,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760125905945,"stop":1760125906596,"duration":651},"status":"passed","steps":[{"name":"Close context","time":{"start":1760125906335,"stop":1760125906589,"duration":254},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"612f15c821df580b","name":"stdout","source":"612f15c821df580b.txt","type":"text/plain","size":28968}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":29,"attachmentsCount":5,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.onSignIn.nextjs-onsignin-callback.spec.ts"},{"name":"titlePath","value":" > Chromium > civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts > Civic Auth onSignIn Callback Tests"},{"name":"host","value":"a994b0e88e1b"},{"name":"thread","value":"pid-2464-worker-3"},{"name":"parentSuite","value":"Chromium"},{"name":"subSuite","value":"Civic Auth onSignIn Callback Tests"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"onSignIn Callback"},{"name":"feature","value":"Next.js onSignIn Callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Chromium"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"158faf8e9837bbc.json","parameterValues":["Chromium"]}