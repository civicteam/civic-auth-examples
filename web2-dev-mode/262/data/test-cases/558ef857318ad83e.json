{"uid":"558ef857318ad83e","name":"should handle refresh token flow correctly in modal mode","fullName":"civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:12:7","historyId":"0650ddbeaf7e9e58b625b0286ac1193b:c42e4eb120398df7b1640a5725c5d83a","time":{"start":1760120623469,"stop":1760120648353,"duration":24884},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:49:75","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:49:75","steps":[{"name":"Before Hooks","time":{"start":1760120623474,"stop":1760120628342,"duration":4868},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760120623475,"stop":1760120628341,"duration":4866},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760120623518,"stop":1760120625012,"duration":1494},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760120623523,"stop":1760120625008,"duration":1485},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760120625023,"stop":1760120625209,"duration":186},"status":"passed","steps":[{"name":"Create context","time":{"start":1760120625034,"stop":1760120625177,"duration":143},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760120625210,"stop":1760120628219,"duration":3009},"status":"passed","steps":[{"name":"Create page","time":{"start":1760120625216,"stop":1760120628219,"duration":3003},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760120628298,"stop":1760120628298,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760120628327,"stop":1760120628327,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760120628341,"stop":1760120628341,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/\"","time":{"start":1760120628377,"stop":1760120629919,"duration":1542},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760120629930,"stop":1760120630161,"duration":231},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760120630171,"stop":1760120630172,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#startAuthModalButton')","time":{"start":1760120630197,"stop":1760120631114,"duration":917},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760120631125,"stop":1760120631126,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120631128,"stop":1760120631933,"duration":805},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760120631946,"stop":1760120632763,"duration":817},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760120632781,"stop":1760120634062,"duration":1281},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760120634064,"stop":1760120644154,"duration":10090},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toContainText\"","time":{"start":1760120644156,"stop":1760120649179,"duration":5023},"status":"failed","statusMessage":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n","statusTrace":"Error: expect(locator).toContainText(expected) failed\n\nLocator: locator('[data-testid=\"vanilla-js-modal-status\"]')\nExpected substring: \"Ghost\"\nReceived string:    \"Modal: Starting...\"\nTimeout: 5000ms\n\nCall log:\n  - Expect \"toContainText\" with timeout 5000ms\n  - waiting for locator('[data-testid=\"vanilla-js-modal-status\"]')\n    9 × locator resolved to <div id=\"modalStatus\" class=\"status-item processing\" data-testid=\"vanilla-js-modal-status\">Modal: Starting...</div>\n      - unexpected value \"Modal: Starting...\"\n\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts:49:75","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1760120650932,"stop":1760120650932,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"f8a6e8c56d1fae","name":"screenshot","source":"f8a6e8c56d1fae.png","type":"image/png","size":92064}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1760120650933,"stop":1760120650933,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"3acafefc4e6d5032","name":"video","source":"3acafefc4e6d5032.webm","type":"video/webm","size":503409}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1760120650933,"stop":1760120650933,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"6c1719e7a1d634ce","name":"video","source":"6c1719e7a1d634ce.webm","type":"video/webm","size":39935}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1760120650934,"stop":1760120650934,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"c54aa1392fb603c7","name":"error-context","source":"c54aa1392fb603c7.md","type":"text/markdown","size":1600}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760120650934,"stop":1760120650934,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"9baa1ab46995e91f","name":"trace","source":"9baa1ab46995e91f.zip","type":"application/vnd.allure.playwright-trace","size":4183835}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760120649183,"stop":1760120649931,"duration":748},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760120649250,"stop":1760120649250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760120649250,"stop":1760120649896,"duration":646},"status":"passed","steps":[{"name":"Close context","time":{"start":1760120649783,"stop":1760120649885,"duration":102},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"162ef74764fe0846","name":"stdout","source":"162ef74764fe0846.txt","type":"text/plain","size":84716}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":30,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.refresh.vanillajs-modal-refresh-token.spec.ts"},{"name":"titlePath","value":" > Firefox > civic-auth/refresh/vanillajs-modal-refresh-token.spec.ts > Civic Auth Applications"},{"name":"host","value":"9f7d7d076449"},{"name":"thread","value":"pid-2291-worker-3"},{"name":"parentSuite","value":"Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Refresh Token"},{"name":"feature","value":"VanillaJS Modal Refresh Token Flow"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Firefox"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"558ef857318ad83e.json","parameterValues":["Firefox"]}