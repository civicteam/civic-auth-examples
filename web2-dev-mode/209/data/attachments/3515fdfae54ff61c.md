# Page snapshot

```yaml
- generic [ref=e1]:
  - main [ref=e2]:
    - generic [ref=e3]:
      - heading "Civic Auth - OnSignIn Callback Test (NextJS)" [level=1] [ref=e4]
      - generic [ref=e5]:
        - heading "Next.js onSignIn Implementation" [level=2] [ref=e6]
        - paragraph [ref=e7]:
          - strong [ref=e8]: "Approach:"
          - text: Using
          - code [ref=e9]: useUser
          - text: hook with
          - code [ref=e10]: onSignIn
          - text: callback
        - paragraph [ref=e11]:
          - text: "Note: Provider-level"
          - code [ref=e12]: onSignIn
          - text: is not supported in Next.js due to SSR constraints. The recommended approach is to pass
          - code [ref=e13]: onSignIn
          - text: to the
          - code [ref=e14]: useUser
          - text: hook.
      - button "Log in" [ref=e16] [cursor=pointer]:
        - generic [ref=e18] [cursor=pointer]: Log in
      - generic [ref=e19]:
        - heading "OnSignIn Callback Test Component" [level=3] [ref=e20]
        - generic [ref=e21]:
          - button "Signing in..." [disabled] [ref=e22] [cursor=pointer]
          - button "Signing out..." [disabled] [ref=e23]
          - button "Clear Log" [ref=e24] [cursor=pointer]
        - generic [ref=e25]:
          - strong [ref=e26]: "User Status:"
          - text: Not logged in
          - strong [ref=e27]: "Auth Status:"
          - text: authenticating
        - generic [ref=e28]:
          - strong [ref=e29]: "Callback Log:"
          - generic [ref=e30]:
            - generic [ref=e31]: "[2025-09-26T17:06:08.610Z] Auth status changed to: unauthenticated"
            - generic [ref=e32]: "[2025-09-26T17:06:08.659Z] Auth status changed to: error"
            - generic [ref=e33]: "[2025-09-26T17:06:08.835Z] Auth status changed to: unauthenticated"
            - generic [ref=e34]: "[2025-09-26T17:06:10.272Z] Starting sign-in attempt"
            - generic [ref=e35]: "[2025-09-26T17:06:10.279Z] Auth status changed to: authenticating"
      - generic [ref=e36]:
        - heading "Test Instructions:" [level=3] [ref=e37]
        - list [ref=e38]:
          - listitem [ref=e39]: Click "Test Sign In" to test the useUser onSignIn callback
          - listitem [ref=e40]: Try multiple sign-in attempts to verify callback is called each time
          - listitem [ref=e41]: Check the component-level log for useUser callback events
          - listitem [ref=e42]: Verify that onSignIn is called after each sign-in attempt
          - listitem [ref=e43]: Test logout and sign-in again to verify callback behavior
  - generic [ref=e48] [cursor=pointer]:
    - button "Open Next.js Dev Tools" [ref=e49] [cursor=pointer]:
      - img [ref=e50] [cursor=pointer]
    - generic [ref=e53] [cursor=pointer]:
      - button "Open issues overlay" [ref=e54] [cursor=pointer]:
        - generic [ref=e55] [cursor=pointer]:
          - generic [ref=e56] [cursor=pointer]: "0"
          - generic [ref=e57] [cursor=pointer]: "1"
        - generic [ref=e58] [cursor=pointer]: Issue
      - button "Collapse issues badge" [ref=e59] [cursor=pointer]:
        - img [ref=e60] [cursor=pointer]
  - alert [ref=e62]
  - generic [ref=e64]:
    - iframe [active] [ref=e66]:
      - generic [ref=f1e1]:
        - main [ref=f1e2]:
          - generic [ref=f1e6]:
            - generic [ref=f1e7]:
              - img "loading" [ref=f1e8]
              - img "dummy" [ref=f1e9]
            - generic [ref=f1e10]:
              - generic [ref=f1e12]:
                - heading "Login" [level=2] [ref=f1e13]
                - heading "Log in or create account" [level=2] [ref=f1e14]
              - generic [ref=f1e15]:
                - generic [ref=f1e18]:
                  - button "Google" [ref=f1e19] [cursor=pointer]:
                    - img "Google" [ref=f1e20] [cursor=pointer]
                  - button "Dummy" [active] [ref=f1e21] [cursor=pointer]:
                    - img "Dummy" [ref=f1e22] [cursor=pointer]
                  - button "Github" [ref=f1e23] [cursor=pointer]:
                    - img "Github" [ref=f1e24] [cursor=pointer]
                  - button "Discord" [ref=f1e25] [cursor=pointer]:
                    - img "Discord" [ref=f1e26] [cursor=pointer]
                  - button "Facebook" [ref=f1e27] [cursor=pointer]:
                    - img "Facebook" [ref=f1e28] [cursor=pointer]
                  - button "X" [ref=f1e29] [cursor=pointer]:
                    - img "X" [ref=f1e30] [cursor=pointer]
                - heading "OR" [level=2] [ref=f1e32]
                - generic [ref=f1e34]:
                  - textbox "Email address" [ref=f1e35]
                  - button [ref=f1e37] [cursor=pointer]:
                    - img [ref=f1e38] [cursor=pointer]
              - generic [ref=f1e40]:
                - generic [ref=f1e41]: Powered by
                - link [ref=f1e42] [cursor=pointer]:
                  - /url: https://www.civic.com/
                  - img [ref=f1e43] [cursor=pointer]
        - region "Notifications (F8)":
          - list
        - alert [ref=f1e52]
    - button "Close" [ref=e67] [cursor=pointer]:
      - img [ref=e68] [cursor=pointer]
```