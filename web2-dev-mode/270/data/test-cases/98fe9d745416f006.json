{"uid":"98fe9d745416f006","name":"should complete email verification flow","fullName":"civic-auth/email/nextjs-email-verification.spec.ts:15:7","historyId":"b285921d959a85ffbe210df5f29f3d17:483ec23660f592decbe63698f54f1a47","time":{"start":1760135417649,"stop":1760135434747,"duration":17098},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1760135417652,"stop":1760135417896,"duration":244},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760135417653,"stop":1760135417896,"duration":243},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760135417674,"stop":1760135417795,"duration":121},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760135417679,"stop":1760135417794,"duration":115},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760135417798,"stop":1760135417822,"duration":24},"status":"passed","steps":[{"name":"Create context","time":{"start":1760135417801,"stop":1760135417816,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760135417822,"stop":1760135417873,"duration":51},"status":"passed","steps":[{"name":"Create page","time":{"start":1760135417824,"stop":1760135417873,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760135417890,"stop":1760135417890,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760135417893,"stop":1760135417893,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1760135417895,"stop":1760135417895,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to Next.js app home page","time":{"start":1760135417906,"stop":1760135418830,"duration":924},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1760135417911,"stop":1760135418830,"duration":919},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Wait for load state \"networkidle\"","time":{"start":1760135418835,"stop":1760135422595,"duration":3760},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760135422596,"stop":1760135422597,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1760135422600,"stop":1760135422631,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1760135422633,"stop":1760135422642,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760135422643,"stop":1760135423648,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1760135423649,"stop":1760135423695,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Handle iframe email verification flow","time":{"start":1760135423696,"stop":1760135434664,"duration":10968},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760135423700,"stop":1760135423732,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760135423734,"stop":1760135423764,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for login UI to load","time":{"start":1760135423765,"stop":1760135423810,"duration":45},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1760135423767,"stop":1760135423785,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1760135423787,"stop":1760135423810,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Debug iframe content","time":{"start":1760135423811,"stop":1760135424510,"duration":699},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('*')","time":{"start":1760135423845,"stop":1760135423862,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('button')","time":{"start":1760135423865,"stop":1760135423885,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"login\"], [data-testid*=\"email\"], [role=\"button\"], .button, [class*=\"button\"]')","time":{"start":1760135424222,"stop":1760135424234,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Find and click email login option","time":{"start":1760135424511,"stop":1760135424608,"duration":97},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760135424513,"stop":1760135424522,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760135424523,"stop":1760135424533,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1760135424534,"stop":1760135424607,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Enter email address in iframe","time":{"start":1760135424608,"stop":1760135424632,"duration":24},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760135424609,"stop":1760135424617,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"108177@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1760135424617,"stop":1760135424632,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Submit email form and intercept API call","time":{"start":1760135424633,"stop":1760135425113,"duration":480},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1760135424635,"stop":1760135425113,"duration":478},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760135424637,"stop":1760135424646,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1760135424646,"stop":1760135424702,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true},{"name":"Wait for verification code and retrieve from API","time":{"start":1760135425114,"stop":1760135426798,"duration":1684},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760135425116,"stop":1760135425959,"duration":843},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"4\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1760135426547,"stop":1760135426563,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"2\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1760135426563,"stop":1760135426581,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"2\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1760135426582,"stop":1760135426615,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"8\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1760135426616,"stop":1760135426699,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1760135426704,"stop":1760135426753,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1760135426754,"stop":1760135426798,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1760135426799,"stop":1760135434664,"duration":7865},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":29,"attachmentsCount":0,"hasContent":true},{"name":"Verify login success with email","time":{"start":1760135434664,"stop":1760135434675,"duration":11},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1760135434666,"stop":1760135434674,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"not toContain\"","time":{"start":1760135434675,"stop":1760135434676,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true},{"name":"Test logout functionality","time":{"start":1760135434676,"stop":1760135434804,"duration":128},"status":"passed","steps":[{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"108177@simulator.amazonses.com\")')","time":{"start":1760135434678,"stop":1760135434729,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1760135434729,"stop":1760135434741,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Log out\")')","time":{"start":1760135434741,"stop":1760135434793,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1760135434793,"stop":1760135434804,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true},{"name":"After Hooks","time":{"start":1760135434805,"stop":1760135434900,"duration":95},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760135434806,"stop":1760135434806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760135434806,"stop":1760135434894,"duration":88},"status":"passed","steps":[{"name":"Close context","time":{"start":1760135434862,"stop":1760135434894,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"ff2d99cb6afc2b55","name":"stdout","source":"ff2d99cb6afc2b55.txt","type":"text/plain","size":36727},{"uid":"4f576730905f7942","name":"stderr","source":"4f576730905f7942.txt","type":"text/plain","size":251}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":61,"attachmentsCount":2,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > Chromium > civic-auth/email/nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"b07f055e39f3"},{"name":"thread","value":"pid-2464-worker-0"},{"name":"parentSuite","value":"Chromium"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"story","value":"Next.js Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"nextjs-authentication-email-verification-code"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Next.js Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Chromium"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":["nextjs-authentication-email-verification-code"]},"source":"98fe9d745416f006.json","parameterValues":["Chromium"]}