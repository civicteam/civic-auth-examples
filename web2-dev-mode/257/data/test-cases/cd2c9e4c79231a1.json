{"uid":"cd2c9e4c79231a1","name":"should call useUser onSignIn callback and handle sign-out correctly","fullName":"civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:58:7","historyId":"4e5bae01dcf2d4cb4dc41172bef1c609:16da5751320efd68221c8b8753b00279","time":{"start":1760112750674,"stop":1760112782970,"duration":32296},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1760112750678,"stop":1760112751923,"duration":1245},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1760112750683,"stop":1760112751874,"duration":1191},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1760112750723,"stop":1760112750915,"duration":192},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1760112750731,"stop":1760112750914,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1760112750927,"stop":1760112750954,"duration":27},"status":"passed","steps":[{"name":"Create context","time":{"start":1760112750931,"stop":1760112750948,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1760112750955,"stop":1760112751756,"duration":801},"status":"passed","steps":[{"name":"Create page","time":{"start":1760112750957,"stop":1760112751756,"duration":799},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760112751842,"stop":1760112751842,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"eb28cd073cf71409","name":"screenshot","source":"eb28cd073cf71409.png","type":"image/png","size":220136}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760112751860,"stop":1760112751860,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"91ed0f21d32c05bf","name":"video","source":"91ed0f21d32c05bf.webm","type":"video/webm","size":789801}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1760112751873,"stop":1760112751873,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"765fe9abd8c1cb0d","name":"video","source":"765fe9abd8c1cb0d.webm","type":"video/webm","size":110}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":3,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":3,"hasContent":true},{"name":"Navigate to \"/onSignInTest\"","time":{"start":1760112751931,"stop":1760112755389,"duration":3458},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1760112755395,"stop":1760112755400,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1760112755410,"stop":1760112755411,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('h1:has-text(\"Civic Auth - OnSignIn Callback Test (NextJS)\")')","time":{"start":1760112755448,"stop":1760112756093,"duration":645},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('button:has-text(\"Test Sign In\")')","time":{"start":1760112756110,"stop":1760112756254,"duration":144},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Test Sign In\")')","time":{"start":1760112756260,"stop":1760112758719,"duration":2459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760112758733,"stop":1760112759010,"duration":277},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1760112759013,"stop":1760112759404,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1760112759409,"stop":1760112770098,"duration":10689},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1760112770099,"stop":1760112775283,"duration":5184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1760112775284,"stop":1760112780308,"duration":5024},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toContain\"","time":{"start":1760112780344,"stop":1760112780348,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('button:has-text(\"Test Sign Out\")')","time":{"start":1760112780350,"stop":1760112780561,"duration":211},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for navigation","time":{"start":1760112780563,"stop":1760112782856,"duration":2293},"status":"failed","statusMessage":"Error: page.waitForURL: Test timeout of 30000ms exceeded.\n=========================== logs ===========================\nwaiting for navigation to \"http://localhost:3000/\" until \"load\"\n  navigated to \"http://localhost:3000/\"\n  \"domcontentloaded\" event fired\n============================================================","statusTrace":"Error: page.waitForURL: Test timeout of 30000ms exceeded.\n=========================== logs ===========================\nwaiting for navigation to \"http://localhost:3000/\" until \"load\"\n  navigated to \"http://localhost:3000/\"\n  \"domcontentloaded\" event fired\n============================================================\n    at /__w/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts:95:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"error-context","time":{"start":1760112783958,"stop":1760112783958,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"cd18e2ceb84e2af5","name":"error-context","source":"cd18e2ceb84e2af5.md","type":"text/markdown","size":262}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1760112783959,"stop":1760112783959,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"41870fa515e111bd","name":"trace","source":"41870fa515e111bd.zip","type":"application/vnd.allure.playwright-trace","size":1521430}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1760112780973,"stop":1760112783311,"duration":2338},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1760112782022,"stop":1760112782022,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1760112782023,"stop":1760112783268,"duration":1245},"status":"passed","steps":[{"name":"Close context","time":{"start":1760112782841,"stop":1760112783256,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"4d5636705c9fa90e","name":"stdout","source":"4d5636705c9fa90e.txt","type":"text/plain","size":11684}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":31,"attachmentsCount":6,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.onSignIn.nextjs-onsignin-callback.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/onSignIn/nextjs-onsignin-callback.spec.ts > Civic Auth onSignIn Callback Tests"},{"name":"host","value":"b76af86f74cc"},{"name":"thread","value":"pid-2467-worker-3"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth onSignIn Callback Tests"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"onSignIn Callback"},{"name":"feature","value":"Next.js onSignIn Callback"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"cd2c9e4c79231a1.json","parameterValues":["WebKit"]}