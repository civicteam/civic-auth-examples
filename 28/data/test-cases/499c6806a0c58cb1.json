{"uid":"499c6806a0c58cb1","name":"should complete login flow and redirect to customSuccessRoute","fullName":"civic-auth/loginSuccessUrl/fastify-login.spec.ts:10:7","historyId":"2535fc86d42af0109f0766d06148cd6c:37e9d81b4e6e0e8f6c9116746379d23f","time":{"start":1757008241769,"stop":1757008253824,"duration":12055},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1757008241770,"stop":1757008243012,"duration":1242},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757008241770,"stop":1757008243011,"duration":1241},"status":"passed","steps":[{"name":"fixture: browser","time":{"start":1757008241777,"stop":1757008242248,"duration":471},"status":"passed","steps":[{"name":"browserType.launch","time":{"start":1757008241779,"stop":1757008242248,"duration":469},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"fixture: context","time":{"start":1757008242249,"stop":1757008242326,"duration":77},"status":"passed","steps":[{"name":"browser.newContext","time":{"start":1757008242251,"stop":1757008242299,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"fixture: page","time":{"start":1757008242327,"stop":1757008242973,"duration":646},"status":"passed","steps":[{"name":"browserContext.newPage","time":{"start":1757008242328,"stop":1757008242973,"duration":645},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Allure Metadata (metadata)","time":{"start":1757008243005,"stop":1757008243005,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1757008243009,"stop":1757008243009,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Allure Metadata (metadata)","time":{"start":1757008243011,"stop":1757008243011,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"page.route","time":{"start":1757008243015,"stop":1757008243027,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page.route","time":{"start":1757008243028,"stop":1757008243062,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page.goto(http://localhost:3000)","time":{"start":1757008243063,"stop":1757008244216,"duration":1153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"locator.click([data-testid=\"civic-login-oidc-button-dummy\"])","time":{"start":1757008244218,"stop":1757008244418,"duration":200},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"expect.toHaveURL","time":{"start":1757008244421,"stop":1757008254246,"duration":9825},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"expect.toContainText","time":{"start":1757008254247,"stop":1757008254256,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"After Hooks","time":{"start":1757008254256,"stop":1757008254303,"duration":47},"status":"passed","steps":[{"name":"fixture: page","time":{"start":1757008254257,"stop":1757008254257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"fixture: context","time":{"start":1757008254257,"stop":1757008254257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":20,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.loginSuccessUrl.fastify-login.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Firefox > civic-auth/loginSuccessUrl/fastify-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"94d213da06d2"},{"name":"thread","value":"pid-765-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login SuccessUrl"},{"name":"feature","value":"Fastify Login (LoginSuccessUrl)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Firefox"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":11,"broken":0,"skipped":0,"passed":15,"unknown":0,"total":26},"items":[{"uid":"f8881dc68644cf75","reportUrl":"https://civicteam.github.io/civic-auth-examples/25//#testresult/f8881dc68644cf75","status":"passed","time":{"start":1757007738864,"stop":1757007758409,"duration":19545}},{"uid":"45f8adf95872730c","reportUrl":"https://civicteam.github.io/civic-auth-examples/24//#testresult/45f8adf95872730c","status":"passed","time":{"start":1757007061277,"stop":1757007077175,"duration":15898}},{"uid":"75690e80edb9eecb","reportUrl":"https://civicteam.github.io/civic-auth-examples/22//#testresult/75690e80edb9eecb","status":"failed","statusDetails":"Error: browserType.launch: Target page, context or browser has been closed\nBrowser logs:\n\n╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\n║ Firefox is unable to launch if the $HOME folder isn't owned by the current user.                                  ║\n║ Workaround: Set the HOME=/root environment variable in your GitHub Actions workflow file when running Playwright. ║\n╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\nCall log:\n  - <launching> /ms-playwright/firefox-1482/firefox/firefox -no-remote -headless -profile /tmp/playwright_firefoxdev_profile-ahNorx -juggler-pipe -silent\n  - <launched> pid=1063\n  - [pid=1063][err] Running Nightly as root in a regular user's session is not supported.  ($HOME is /github/home which is owned by uid 1001.)\n  - [pid=1063] <process did exit: exitCode=1, signal=null>\n  - [pid=1063] starting temporary directories cleanup\n","time":{"start":1757006075565,"stop":1757006075570,"duration":5}},{"uid":"98cc4416b3c6c3d6","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/98cc4416b3c6c3d6","status":"failed","statusDetails":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"http://localhost:3000/customSuccessUrl\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 20000ms\n    5 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiMTcwNWI4OWQtYzY4OC00YjZiLWI4ZmMtZWU2ZWEyMjUwNTZkIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhLjcifQ%3D%3D&client_id=demo-client-1&source_system_id=WMF0-VcrKH5G962KJisIejQ7bH8w5r5idw8ZYdNpcCW&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-480730eb-d073-46e9-b0cc-5bdb75229f22\"\n    - waiting for\" https://auth-dev.civic.com/oauth/interaction/WMF0-VcrKH5G962KJisIejQ7bH8w5r5idw8ZYdNpcCW/loginComplete?login_result=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6IjI4YzZkNTgzLTgwNDYtNGZiOC04ZDVhLW…\" navigation to finish...\n    - navigated to \"http://localhost:3000/customSuccessUrl\"\n    18 × unexpected value \"http://localhost:3000/customSuccessUrl\"\n","time":{"start":1757004818964,"stop":1757004841129,"duration":22165}},{"uid":"1964737bdf493599","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/1964737bdf493599","status":"passed","time":{"start":1757004763876,"stop":1757004768876,"duration":5000}},{"uid":"d71926267fbd269c","reportUrl":"https://civicteam.github.io/civic-auth-examples/7//#testresult/d71926267fbd269c","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757004560515,"stop":1757004560520,"duration":5}},{"uid":"728b3c348f569d24","reportUrl":"https://civicteam.github.io/civic-auth-examples/8//#testresult/728b3c348f569d24","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757003150388,"stop":1757003150393,"duration":5}},{"uid":"f11349e6e384a528","reportUrl":"https://civicteam.github.io/civic-auth-examples/11//#testresult/f11349e6e384a528","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1482/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757004353937,"stop":1757004353944,"duration":7}},{"uid":"a5aac8822c8231b0","reportUrl":"https://civicteam.github.io/civic-auth-examples/9//#testresult/a5aac8822c8231b0","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757003994376,"stop":1757003994381,"duration":5}},{"uid":"7eda4842536bde13","reportUrl":"https://civicteam.github.io/civic-auth-examples/9//#testresult/7eda4842536bde13","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757003997166,"stop":1757003997171,"duration":5}},{"uid":"7a8b32c7a6000a65","reportUrl":"https://civicteam.github.io/civic-auth-examples/5//#testresult/7a8b32c7a6000a65","status":"failed","statusDetails":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"http://localhost:3000/customSuccessUrl\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 20000ms\n    5 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiODI3ZDkzOGEtYzcyNC00YjRlLWE3NzAtZDBjZjg0MWM5Y2I0IiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhLjcifQ%3D%3D&client_id=demo-client-1&source_system_id=_Y4cpTFsYuMaw4nt0LstzHbEBPldkKZjwoM5rUaa0Lx&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-8f3e21ab-63ff-4c3d-b740-0f5b051d5e9b\"\n    - waiting for\" https://auth-dev.civic.com/oauth/interaction/_Y4cpTFsYuMaw4nt0LstzHbEBPldkKZjwoM5rUaa0Lx/loginComplete?login_result=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhMjRkNGI5Ni1lNjBhLTQ1NGMtODNiYi02Yz…\" navigation to finish...\n    - navigated to \"http://localhost:3000/customSuccessUrl\"\n    18 × unexpected value \"http://localhost:3000/customSuccessUrl\"\n","time":{"start":1757002879663,"stop":1757002901782,"duration":22119}},{"uid":"4743337104b9fa0f","reportUrl":"https://civicteam.github.io/civic-auth-examples/5//#testresult/4743337104b9fa0f","status":"passed","time":{"start":1757002113657,"stop":1757002121049,"duration":7392}},{"uid":"310304f259b280f1","reportUrl":"https://civicteam.github.io/civic-auth-examples/7//#testresult/310304f259b280f1","status":"failed","statusDetails":"Error: browserType.launch: Executable doesn't exist at /home/runner/.cache/ms-playwright/firefox-1490/firefox/firefox\n╔═════════════════════════════════════════════════════════════════════════╗\n║ Looks like Playwright Test or Playwright was just installed or updated. ║\n║ Please run the following command to download new browsers:              ║\n║                                                                         ║\n║     yarn playwright install                                             ║\n║                                                                         ║\n║ <3 Playwright Team                                                      ║\n╚═════════════════════════════════════════════════════════════════════════╝","time":{"start":1757003214871,"stop":1757003214876,"duration":5}},{"uid":"48ef949d4ca8f4b7","reportUrl":"https://civicteam.github.io/civic-auth-examples/3//#testresult/48ef949d4ca8f4b7","status":"failed","statusDetails":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"http://localhost:3000/customSuccessUrl\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 20000ms\n    8 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiZjlmYjc4M2UtYmQ1NC00OTUxLTk4ZTgtYmVkOGMyNDk2YjlmIiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhLjcifQ%3D%3D&client_id=demo-client-1&source_system_id=lEjaNmUcduaicVN533850pirRaGelmPFa7VNLMw9uS-&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-a93d8576-1ea6-49b5-bd47-a54518b7ee2b\"\n    16 × unexpected value \"http://localhost:3000/customSuccessUrl\"\n","time":{"start":1757001034669,"stop":1757001056850,"duration":22181}},{"uid":"d123af46d4085989","reportUrl":"https://civicteam.github.io/civic-auth-examples/4//#testresult/d123af46d4085989","status":"passed","time":{"start":1757000904914,"stop":1757000909941,"duration":5027}},{"uid":"3096bfae73d17a6e","reportUrl":"https://civicteam.github.io/civic-auth-examples/3//#testresult/3096bfae73d17a6e","status":"passed","time":{"start":1757000956565,"stop":1757000960876,"duration":4311}},{"uid":"75ff9568ceb2085e","reportUrl":"https://civicteam.github.io/civic-auth-examples/2//#testresult/75ff9568ceb2085e","status":"passed","time":{"start":1757000594919,"stop":1757000599475,"duration":4556}},{"uid":"f4e4290f801d7499","reportUrl":"https://civicteam.github.io/civic-auth-examples/1//#testresult/f4e4290f801d7499","status":"failed","statusDetails":"Error: expect(page).toHaveURL(expected) failed\n\nExpected pattern: /.*\\/customSuccessRoute/\nReceived string:  \"http://localhost:3000/customSuccessUrl\"\nTimeout: 20000ms\n\nCall log:\n  - Expect \"toHaveURL\" with timeout 20000ms\n    5 × unexpected value \"https://auth-dev.civic.com/login?state=eyJ1dWlkIjoiMWQxYjc3NjgtZjlmNi00ODk3LWI0ZWYtZGFkZTJkMTdhMTI3IiwiZnJhbWV3b3JrIjoic2VydmVyIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhLjcifQ%3D%3D&client_id=demo-client-1&source_system_id=TL3CEESZmS7Oa-WzMi3MEDFgaq8-LThrxGUD5-js7d0&scope=openid+profile+email+forwardedTokens+offline_access&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fauth%2Fcallback&flow_id=oauth-login-bc527e41-de81-4749-981f-c6e44422431f\"\n    - waiting for\" https://auth-dev.civic.com/oauth/interaction/TL3CEESZmS7Oa-WzMi3MEDFgaq8-LThrxGUD5-js7d0/loginComplete?login_result=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiR2hvc3QiLCJlbWFpbCI6ImQ4YWIwYmU4LW…\" navigation to finish...\n    - navigated to \"http://localhost:3000/customSuccessUrl\"\n    18 × unexpected value \"http://localhost:3000/customSuccessUrl\"\n","time":{"start":1757000599996,"stop":1757000622126,"duration":22130}},{"uid":"256568ffd8912cc2","reportUrl":"https://civicteam.github.io/civic-auth-examples/90//#testresult/256568ffd8912cc2","status":"passed","time":{"start":1756998679726,"stop":1756998687203,"duration":7477}},{"uid":"a2e2b24c20b8bcfd","reportUrl":"https://civicteam.github.io/civic-auth-examples/89//#testresult/a2e2b24c20b8bcfd","status":"passed","time":{"start":1756998775289,"stop":1756998780451,"duration":5162}}]},"tags":[]},"source":"499c6806a0c58cb1.json","parameterValues":["Civic Auth Applications - Firefox"]}