{"uid":"f086353323c4fcef","name":"should complete email verification flow","fullName":"civic-auth/email/nextjs-email-verification.spec.ts:13:7","historyId":"b285921d959a85ffbe210df5f29f3d17:483ec23660f592decbe63698f54f1a47","time":{"start":1758647670913,"stop":1758647681731,"duration":10818},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1758647670914,"stop":1758647672046,"duration":1132},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1758647670915,"stop":1758647672045,"duration":1130},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1758647670934,"stop":1758647671979,"duration":1045},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1758647670938,"stop":1758647671979,"duration":1041},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Fixture \"context\"","time":{"start":1758647671982,"stop":1758647671998,"duration":16},"status":"passed","steps":[{"name":"Create context","time":{"start":1758647671985,"stop":1758647671994,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Fixture \"page\"","time":{"start":1758647671999,"stop":1758647672033,"duration":34},"status":"passed","steps":[{"name":"Create page","time":{"start":1758647672000,"stop":1758647672032,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Allure Metadata (metadata)","time":{"start":1758647672041,"stop":1758647672041,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Allure Metadata (metadata)","time":{"start":1758647672044,"stop":1758647672044,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Allure Metadata (metadata)","time":{"start":1758647672045,"stop":1758647672045,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":9,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Navigate to Next.js app home page","time":{"start":1758647672054,"stop":1758647672653,"duration":599},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1758647672059,"stop":1758647672653,"duration":594},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1758647672655,"stop":1758647675343,"duration":2688},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1758647675344,"stop":1758647675345,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1758647675347,"stop":1758647675372,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1758647675373,"stop":1758647675383,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for timeout","time":{"start":1758647675384,"stop":1758647676388,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1758647676389,"stop":1758647676440,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Handle iframe email verification flow","time":{"start":1758647676441,"stop":1758647682490,"duration":6049},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1758647676446,"stop":1758647676498,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1758647676504,"stop":1758647676539,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for login UI to load","time":{"start":1758647676540,"stop":1758647676586,"duration":46},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1758647676549,"stop":1758647676567,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1758647676568,"stop":1758647676586,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Debug iframe content","time":{"start":1758647676587,"stop":1758647676949,"duration":362},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('*')","time":{"start":1758647676618,"stop":1758647676638,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('button')","time":{"start":1758647676642,"stop":1758647676660,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"login\"], [data-testid*=\"email\"], [role=\"button\"], .button, [class*=\"button\"]')","time":{"start":1758647676825,"stop":1758647676833,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Find and click email login option","time":{"start":1758647676950,"stop":1758647677015,"duration":65},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758647676951,"stop":1758647676957,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758647676957,"stop":1758647676964,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758647676964,"stop":1758647677015,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Enter email address in iframe","time":{"start":1758647677015,"stop":1758647677045,"duration":30},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1758647677018,"stop":1758647677027,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"531255@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1758647677028,"stop":1758647677045,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Submit email form and intercept API call","time":{"start":1758647677046,"stop":1758647677470,"duration":424},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1758647677048,"stop":1758647677470,"duration":422},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1758647677050,"stop":1758647677064,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1758647677065,"stop":1758647677138,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Wait for verification code and retrieve from API","time":{"start":1758647677471,"stop":1758647678658,"duration":1187},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1758647677473,"stop":1758647678289,"duration":816},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"5\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1758647678556,"stop":1758647678570,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"2\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1758647678571,"stop":1758647678585,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"1\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1758647678586,"stop":1758647678601,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"7\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1758647678601,"stop":1758647678615,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"7\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1758647678616,"stop":1758647678637,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1758647678638,"stop":1758647678658,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1758647678659,"stop":1758647682489,"duration":3830},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":29,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Verify login success with email","time":{"start":1758647682490,"stop":1758647682499,"duration":9},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1758647682492,"stop":1758647682498,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"not toContain\"","time":{"start":1758647682499,"stop":1758647682499,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Test logout functionality","time":{"start":1758647682500,"stop":1758647682649,"duration":149},"status":"passed","steps":[{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"531255@simulator.amazonses.com\")')","time":{"start":1758647682501,"stop":1758647682558,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"toBeVisible\"","time":{"start":1758647682558,"stop":1758647682571,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Log out\")')","time":{"start":1758647682572,"stop":1758647682641,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"toBeVisible\"","time":{"start":1758647682642,"stop":1758647682649,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"After Hooks","time":{"start":1758647682649,"stop":1758647682807,"duration":158},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1758647682650,"stop":1758647682650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fixture \"context\"","time":{"start":1758647682651,"stop":1758647682798,"duration":147},"status":"passed","steps":[{"name":"Close context","time":{"start":1758647682768,"stop":1758647682797,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[{"uid":"ffef8a786201b11","name":"stdout","source":"ffef8a786201b11.txt","type":"text/plain","size":26994},{"uid":"8859895ec5d81cbd","name":"stderr","source":"8859895ec5d81cbd.txt","type":"text/plain","size":251}],"parameters":[],"stepsCount":61,"attachmentsCount":2,"hasContent":true,"shouldDisplayMessage":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > Chromium > civic-auth/email/nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"pid-6382-worker-0"},{"name":"parentSuite","value":"Chromium"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"story","value":"Next.js Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"nextjs-authentication-email-verification-code"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Next.js Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Chromium"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":["nextjs-authentication-email-verification-code"]},"source":"f086353323c4fcef.json","parameterValues":["Chromium"]}