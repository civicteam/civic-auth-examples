{"uid":"505afaa7ea7b0d11","name":"should complete email verification flow","fullName":"civic-auth/email/nextjs-email-verification.spec.ts:13:7","historyId":"b285921d959a85ffbe210df5f29f3d17:16da5751320efd68221c8b8753b00279","time":{"start":1758647790572,"stop":1758647805462,"duration":14890},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Before Hooks","time":{"start":1758647790574,"stop":1758647795477,"duration":4903},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1758647790574,"stop":1758647795477,"duration":4903},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1758647790593,"stop":1758647791346,"duration":753},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1758647790596,"stop":1758647791346,"duration":750},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Fixture \"context\"","time":{"start":1758647791348,"stop":1758647791375,"duration":27},"status":"passed","steps":[{"name":"Create context","time":{"start":1758647791350,"stop":1758647791370,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Fixture \"page\"","time":{"start":1758647791375,"stop":1758647795461,"duration":4086},"status":"passed","steps":[{"name":"Create page","time":{"start":1758647791377,"stop":1758647795461,"duration":4084},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Allure Metadata (metadata)","time":{"start":1758647795473,"stop":1758647795473,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Allure Metadata (metadata)","time":{"start":1758647795475,"stop":1758647795475,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Allure Metadata (metadata)","time":{"start":1758647795476,"stop":1758647795476,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":9,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Navigate to Next.js app home page","time":{"start":1758647795483,"stop":1758647796581,"duration":1098},"status":"passed","steps":[{"name":"Navigate to \"/\"","time":{"start":1758647795487,"stop":1758647796580,"duration":1093},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1758647796583,"stop":1758647796584,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1758647796585,"stop":1758647796586,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1758647796590,"stop":1758647796650,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1758647796652,"stop":1758647796691,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for timeout","time":{"start":1758647796693,"stop":1758647797701,"duration":1008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1758647797702,"stop":1758647798129,"duration":427},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Handle iframe email verification flow","time":{"start":1758647798130,"stop":1758647805188,"duration":7058},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1758647798142,"stop":1758647798182,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1758647798184,"stop":1758647798241,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for login UI to load","time":{"start":1758647798244,"stop":1758647798292,"duration":48},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1758647798250,"stop":1758647798277,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1758647798279,"stop":1758647798292,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Debug iframe content","time":{"start":1758647798293,"stop":1758647798794,"duration":501},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('*')","time":{"start":1758647798312,"stop":1758647798363,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('button')","time":{"start":1758647798365,"stop":1758647798374,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"login\"], [data-testid*=\"email\"], [role=\"button\"], .button, [class*=\"button\"]')","time":{"start":1758647798593,"stop":1758647798605,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Find and click email login option","time":{"start":1758647798794,"stop":1758647800191,"duration":1397},"status":"passed","steps":[{"name":"Query count locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758647798796,"stop":1758647798805,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758647798807,"stop":1758647798821,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-slot-email-comp\"]')","time":{"start":1758647798822,"stop":1758647800191,"duration":1369},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Enter email address in iframe","time":{"start":1758647800192,"stop":1758647800266,"duration":74},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1758647800198,"stop":1758647800222,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"237952@simulator.amazonses.com\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"email-input-text\"]')","time":{"start":1758647800223,"stop":1758647800265,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Submit email form and intercept API call","time":{"start":1758647800266,"stop":1758647801278,"duration":1012},"status":"passed","steps":[{"name":"Wait for event \"response\"","time":{"start":1758647800272,"stop":1758647801278,"duration":1006},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1758647800275,"stop":1758647800299,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('button svg.lucide-arrow-right').locator('..')","time":{"start":1758647800300,"stop":1758647800855,"duration":555},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Wait for verification code and retrieve from API","time":{"start":1758647801279,"stop":1758647802644,"duration":1365},"status":"passed","steps":[{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1758647801281,"stop":1758647802163,"duration":882},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"5\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-0\"]')","time":{"start":1758647802420,"stop":1758647802460,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"3\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-1\"]')","time":{"start":1758647802462,"stop":1758647802506,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"4\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-2\"]')","time":{"start":1758647802509,"stop":1758647802537,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"0\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-3\"]')","time":{"start":1758647802537,"stop":1758647802568,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"7\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-4\"]')","time":{"start":1758647802568,"stop":1758647802597,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fill \"4\" locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"code-input-5\"]')","time":{"start":1758647802598,"stop":1758647802644,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1758647802645,"stop":1758647805188,"duration":2543},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":29,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Verify login success with email","time":{"start":1758647805189,"stop":1758647805606,"duration":417},"status":"passed","steps":[{"name":"Expect \"toBeVisible\"","time":{"start":1758647805192,"stop":1758647805605,"duration":413},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"not toContain\"","time":{"start":1758647805606,"stop":1758647805606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"Test logout functionality","time":{"start":1758647805611,"stop":1758647805937,"duration":326},"status":"passed","steps":[{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"237952@simulator.amazonses.com\")')","time":{"start":1758647805618,"stop":1758647805781,"duration":163},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"toBeVisible\"","time":{"start":1758647805782,"stop":1758647805790,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Log out\")')","time":{"start":1758647805791,"stop":1758647805928,"duration":137},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Expect \"toBeVisible\"","time":{"start":1758647805928,"stop":1758647805936,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false},{"name":"After Hooks","time":{"start":1758647805937,"stop":1758647806246,"duration":309},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1758647805938,"stop":1758647805939,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false},{"name":"Fixture \"context\"","time":{"start":1758647805939,"stop":1758647806237,"duration":298},"status":"passed","steps":[{"name":"Close context","time":{"start":1758647806182,"stop":1758647806236,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"hasContent":false,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"hasContent":true,"shouldDisplayMessage":false}],"attachments":[{"uid":"2023b6dd57446316","name":"stdout","source":"2023b6dd57446316.txt","type":"text/plain","size":26994},{"uid":"99a0f10bb6ce836e","name":"stderr","source":"99a0f10bb6ce836e.txt","type":"text/plain","size":251}],"parameters":[],"stepsCount":61,"attachmentsCount":2,"hasContent":true,"shouldDisplayMessage":false},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.email.nextjs-email-verification.spec.ts"},{"name":"titlePath","value":" > WebKit > civic-auth/email/nextjs-email-verification.spec.ts > Civic Auth Applications"},{"name":"host","value":"runnervmf4ws1"},{"name":"thread","value":"pid-6382-worker-0"},{"name":"parentSuite","value":"WebKit"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"story","value":"Next.js Email Code Verification Flow"},{"name":"severity","value":"critical"},{"name":"tag","value":"nextjs-authentication-email-verification-code"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Email"},{"name":"feature","value":"Next.js Email Verification"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":["nextjs-authentication-email-verification-code"]},"source":"505afaa7ea7b0d11.json","parameterValues":["WebKit"]}