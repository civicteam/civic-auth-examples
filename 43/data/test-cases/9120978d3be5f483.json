{"uid":"9120978d3be5f483","name":"should complete full login and logout flow with basepath","fullName":"civic-auth/basePath/nextjs-login.spec.ts:10:7","historyId":"064bb6eda9e6ff68e255b16be17be320:0fe70cd73c2004c8cec7b50bc937f04a","time":{"start":1757025602562,"stop":1757025614096,"duration":11534},"status":"failed","statusMessage":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4","statusTrace":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:115:41","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4","statusTrace":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:115:41","steps":[{"name":"Before Hooks","time":{"start":1757025602564,"stop":1757025602893,"duration":329},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757025602565,"stop":1757025602891,"duration":326},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757025602580,"stop":1757025602662,"duration":82},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757025602585,"stop":1757025602661,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757025602663,"stop":1757025602680,"duration":17},"status":"passed","steps":[{"name":"Create context","time":{"start":1757025602665,"stop":1757025602674,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757025602681,"stop":1757025602863,"duration":182},"status":"passed","steps":[{"name":"Create page","time":{"start":1757025602683,"stop":1757025602863,"duration":180},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757025602887,"stop":1757025602887,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757025602890,"stop":1757025602890,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757025602891,"stop":1757025602891,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/demo\"","time":{"start":1757025602899,"stop":1757025603604,"duration":705},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1757025603607,"stop":1757025605443,"duration":1836},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757025605444,"stop":1757025605445,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1757025605448,"stop":1757025605554,"duration":106},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757025605558,"stop":1757025605693,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1757025605695,"stop":1757025606421,"duration":726},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('#civic-login-app-loading')","time":{"start":1757025606441,"stop":1757025606779,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid*=\"civic-login\"]').first()","time":{"start":1757025606784,"stop":1757025606814,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1757025606816,"stop":1757025606836,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1757025606837,"stop":1757025607847,"duration":1010},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1757025607850,"stop":1757025608521,"duration":671},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757025608522,"stop":1757025611548,"duration":3026},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1757025611549,"stop":1757025613558,"duration":2009},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1757025613560,"stop":1757025613581,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"not toContain\"","time":{"start":1757025613582,"stop":1757025613582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toContain\"","time":{"start":1757025613583,"stop":1757025613583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeGreaterThan\"","time":{"start":1757025613586,"stop":1757025613586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-dropdown-container').locator('button:has-text(\"Ghost\")')","time":{"start":1757025613587,"stop":1757025613592,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Ghost\")')","time":{"start":1757025613592,"stop":1757025613649,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-dropdown-container').locator('button:has-text(\"Logout\")')","time":{"start":1757025613650,"stop":1757025613659,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-dropdown-container').locator('button:has-text(\"Logout\")')","time":{"start":1757025613660,"stop":1757025613806,"duration":146},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"not toBeVisible\"","time":{"start":1757025613808,"stop":1757025613822,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBe\"","time":{"start":1757025613830,"stop":1757025613832,"duration":2},"status":"failed","statusMessage":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4","statusTrace":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:115:41","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1757025614383,"stop":1757025614383,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"1a456f0515492c12","name":"screenshot","source":"1a456f0515492c12.png","type":"image/png","size":72937}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757025614384,"stop":1757025614384,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2e140ada34ef7de7","name":"video","source":"2e140ada34ef7de7.webm","type":"video/webm","size":154740}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757025614385,"stop":1757025614385,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"f7acfb76a5bce0d4","name":"video","source":"f7acfb76a5bce0d4.webm","type":"video/webm","size":110}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1757025614385,"stop":1757025614385,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"c9f0249aae5c5262","name":"error-context","source":"c9f0249aae5c5262.md","type":"text/markdown","size":526}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1757025614385,"stop":1757025614385,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"75cc56cded8e2959","name":"trace","source":"75cc56cded8e2959.zip","type":"application/vnd.allure.playwright-trace","size":795961}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1757025613833,"stop":1757025614208,"duration":375},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757025614024,"stop":1757025614024,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757025614025,"stop":1757025614197,"duration":172},"status":"passed","steps":[{"name":"Close context","time":{"start":1757025614173,"stop":1757025614193,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":43,"attachmentsCount":5,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.basePath.nextjs-login.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - WebKit > civic-auth/basePath/nextjs-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6406-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - WebKit"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login Basepath"},{"name":"feature","value":"Next.js Login (BasePath)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - WebKit"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"91e9874d5521cef7","status":"failed","statusDetails":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4","time":{"start":1757025590106,"stop":1757025601699,"duration":11593}},{"uid":"e7efe67e6b25f765","status":"failed","statusDetails":"Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 4","time":{"start":1757025573677,"stop":1757025588782,"duration":15105}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":24,"broken":1,"skipped":0,"passed":23,"unknown":0,"total":48},"items":[{"uid":"817bf58974126b92","reportUrl":"https://civicteam.github.io/civic-auth-examples/42//#testresult/817bf58974126b92","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe')\n","time":{"start":1757020865642,"stop":1757020898823,"duration":33181}},{"uid":"8785b37735611375","reportUrl":"https://civicteam.github.io/civic-auth-examples/41//#testresult/8785b37735611375","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe')\n","time":{"start":1757020777539,"stop":1757020810721,"duration":33182}},{"uid":"8c812f3668bc7dba","reportUrl":"https://civicteam.github.io/civic-auth-examples/41//#testresult/8c812f3668bc7dba","status":"passed","time":{"start":1757020625899,"stop":1757020642315,"duration":16416}},{"uid":"85b81f73a9981a9","reportUrl":"https://civicteam.github.io/civic-auth-examples/40//#testresult/85b81f73a9981a9","status":"passed","time":{"start":1757019086840,"stop":1757019101846,"duration":15006}},{"uid":"7e67426e72a65ad1","reportUrl":"https://civicteam.github.io/civic-auth-examples/39//#testresult/7e67426e72a65ad1","status":"passed","time":{"start":1757018222943,"stop":1757018238485,"duration":15542}},{"uid":"2268623989fe16f3","reportUrl":"https://civicteam.github.io/civic-auth-examples/40//#testresult/2268623989fe16f3","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n","time":{"start":1757018347873,"stop":1757018381030,"duration":33157}},{"uid":"36642e87e88e231a","reportUrl":"https://civicteam.github.io/civic-auth-examples/40//#testresult/36642e87e88e231a","status":"passed","time":{"start":1757018185467,"stop":1757018201432,"duration":15965}},{"uid":"3d6426cbd938e1f","reportUrl":"https://civicteam.github.io/civic-auth-examples/38//#testresult/3d6426cbd938e1f","status":"passed","time":{"start":1757015927000,"stop":1757015941171,"duration":14171}},{"uid":"5fe8c79988521611","reportUrl":"https://civicteam.github.io/civic-auth-examples/38//#testresult/5fe8c79988521611","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757015367966,"stop":1757015401158,"duration":33192}},{"uid":"23e8b3c9e0c81c3f","reportUrl":"https://civicteam.github.io/civic-auth-examples/37//#testresult/23e8b3c9e0c81c3f","status":"passed","time":{"start":1757015228513,"stop":1757015244367,"duration":15854}},{"uid":"d880142694c8d0fc","reportUrl":"https://civicteam.github.io/civic-auth-examples/37//#testresult/d880142694c8d0fc","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757015482427,"stop":1757015515614,"duration":33187}},{"uid":"abe439b342bdb479","reportUrl":"https://civicteam.github.io/civic-auth-examples/36//#testresult/abe439b342bdb479","status":"passed","time":{"start":1757011350299,"stop":1757011364430,"duration":14131}},{"uid":"b28aa7a5a27b7610","reportUrl":"https://civicteam.github.io/civic-auth-examples/36//#testresult/b28aa7a5a27b7610","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757011499862,"stop":1757011533041,"duration":33179}},{"uid":"6bd31d88b34767e8","reportUrl":"https://civicteam.github.io/civic-auth-examples/35//#testresult/6bd31d88b34767e8","status":"passed","time":{"start":1757011345374,"stop":1757011360639,"duration":15265}},{"uid":"c10a96607a56cbec","reportUrl":"https://civicteam.github.io/civic-auth-examples/35//#testresult/c10a96607a56cbec","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757011597415,"stop":1757011630592,"duration":33177}},{"uid":"b6759f91bd858771","reportUrl":"https://civicteam.github.io/civic-auth-examples/33//#testresult/b6759f91bd858771","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010609743,"stop":1757010643029,"duration":33286}},{"uid":"81964c17863b0f60","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/81964c17863b0f60","status":"passed","time":{"start":1757010587590,"stop":1757010601240,"duration":13650}},{"uid":"3700644e67da17f9","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/3700644e67da17f9","status":"passed","time":{"start":1757009850249,"stop":1757009865847,"duration":15598}},{"uid":"812f3516e37d84d6","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/812f3516e37d84d6","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010104616,"stop":1757010137625,"duration":33009}},{"uid":"4ea1236c51e4311c","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/4ea1236c51e4311c","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010745205,"stop":1757010778233,"duration":33028}}]},"tags":[]},"source":"9120978d3be5f483.json","parameterValues":["Civic Auth Applications - WebKit"]}