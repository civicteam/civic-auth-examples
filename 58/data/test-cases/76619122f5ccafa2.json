{"uid":"76619122f5ccafa2","name":"should complete full login and logout flow with custom loginSuccessUrl","fullName":"civic-auth/loginSuccessUrl/nextjs-login.spec.ts:10:7","historyId":"6a49da4f9fa466f215da2602fc08e480:73a5e7bbc36f1020471964c67074baa6","time":{"start":1757347437267,"stop":1757347464187,"duration":26920},"status":"failed","statusMessage":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","statusTrace":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/nextjs-login.spec.ts:46:61","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","statusTrace":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/nextjs-login.spec.ts:46:61","steps":[{"name":"Before Hooks","time":{"start":1757347437269,"stop":1757347437443,"duration":174},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757347437270,"stop":1757347437442,"duration":172},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757347437285,"stop":1757347437353,"duration":68},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757347437289,"stop":1757347437353,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757347437356,"stop":1757347437373,"duration":17},"status":"passed","steps":[{"name":"Create context","time":{"start":1757347437359,"stop":1757347437368,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757347437373,"stop":1757347437416,"duration":43},"status":"passed","steps":[{"name":"Create page","time":{"start":1757347437375,"stop":1757347437416,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757347437438,"stop":1757347437438,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757347437441,"stop":1757347437441,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757347437442,"stop":1757347437442,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/\"","time":{"start":1757347437445,"stop":1757347437587,"duration":142},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1757347437589,"stop":1757347438700,"duration":1111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757347438702,"stop":1757347438702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector getByTestId('sign-in-button')","time":{"start":1757347438705,"stop":1757347438733,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeEnabled\"","time":{"start":1757347438735,"stop":1757347438747,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for timeout","time":{"start":1757347438748,"stop":1757347439753,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1757347439755,"stop":1757347439794,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757347439797,"stop":1757347439842,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe').contentFrame().locator('body')","time":{"start":1757347439847,"stop":1757347439895,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click locator('#civic-auth-iframe').contentFrame().locator('[data-testid=\"civic-login-oidc-button-dummy\"]')","time":{"start":1757347439899,"stop":1757347440030,"duration":131},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('#civic-auth-iframe')","time":{"start":1757347440032,"stop":1757347442876,"duration":2844},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Expect \"toBeVisible\"","time":{"start":1757347442877,"stop":1757347462883,"duration":20006},"status":"failed","statusMessage":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","statusTrace":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/loginSuccessUrl/nextjs-login.spec.ts:46:61","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1757347464410,"stop":1757347464410,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"ce17eedfe7e18259","name":"screenshot","source":"ce17eedfe7e18259.png","type":"image/png","size":18681}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757347464410,"stop":1757347464410,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"eb76c1cbaae1697d","name":"video","source":"eb76c1cbaae1697d.webm","type":"video/webm","size":277402}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1757347464411,"stop":1757347464411,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"a39e1f895c6158ed","name":"error-context","source":"a39e1f895c6158ed.md","type":"text/markdown","size":396}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1757347464411,"stop":1757347464411,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"db910a1587b8cf47","name":"trace","source":"db910a1587b8cf47.zip","type":"application/vnd.allure.playwright-trace","size":484631}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1757347462884,"stop":1757347464284,"duration":1400},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757347462940,"stop":1757347462940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757347462941,"stop":1757347464275,"duration":1334},"status":"passed","steps":[{"name":"Close context","time":{"start":1757347463066,"stop":1757347464272,"duration":1206},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":31,"attachmentsCount":4,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.loginSuccessUrl.nextjs-login.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Chromium > civic-auth/loginSuccessUrl/nextjs-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6363-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Chromium"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login SuccessUrl"},{"name":"feature","value":"Next.js Login (LoginSuccessUrl)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Chromium"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"35c1984dc0df9cdb","status":"failed","statusDetails":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","time":{"start":1757347410218,"stop":1757347436449,"duration":26231}},{"uid":"e9e8ca2d9942a21e","status":"failed","statusDetails":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","time":{"start":1757347381094,"stop":1757347409234,"duration":28140}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":38,"broken":0,"skipped":0,"passed":31,"unknown":0,"total":69},"items":[{"uid":"15108688bbae6564","reportUrl":"https://civicteam.github.io/civic-auth-examples/59//#testresult/15108688bbae6564","status":"passed","time":{"start":1757348184155,"stop":1757348196812,"duration":12657}},{"uid":"80b14cf30322ad99","reportUrl":"https://civicteam.github.io/civic-auth-examples/57//#testresult/80b14cf30322ad99","status":"failed","statusDetails":"Error: expect(locator).toBeVisible() failed\n\nLocator:  getByTestId('loginSuccessUrlHeader')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  20000ms\n\nCall log:\n  - Expect \"toBeVisible\" with timeout 20000ms\n  - waiting for getByTestId('loginSuccessUrlHeader')\n","time":{"start":1757345416766,"stop":1757345442941,"duration":26175}},{"uid":"2708b3a291992953","reportUrl":"https://civicteam.github.io/civic-auth-examples/56//#testresult/2708b3a291992953","status":"passed","time":{"start":1757343739858,"stop":1757343750634,"duration":10776}},{"uid":"eb4804b5d728df76","reportUrl":"https://civicteam.github.io/civic-auth-examples/55//#testresult/eb4804b5d728df76","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757341266997,"stop":1757341271030,"duration":4033}},{"uid":"caf216f98e087ea7","reportUrl":"https://civicteam.github.io/civic-auth-examples/53//#testresult/caf216f98e087ea7","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 20000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    45 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiNDYzZTIzZTctZjJmNy00ZTgxLTk0ZDItY2U0NDBjMTMxNjk4IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwibG9naW5TdWNjZXNzVXJsIjoiL2N1c3RvbVN1Y2Nlc3NSb3V0ZSIsImZyYW1ld29yayI6Im5leHRqcyIsIn…></iframe>\n","time":{"start":1757105525665,"stop":1757105548865,"duration":23200}},{"uid":"9246fc8343e44fcc","reportUrl":"https://civicteam.github.io/civic-auth-examples/53//#testresult/9246fc8343e44fcc","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 20000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be hidden\n    45 × locator resolved to visible <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/api/auth/login?state=eyJ1dWlkIjoiMGQ2OGQ2MDEtODUxNC00OWI1LWI5OTEtYjQ1ZjViZjUwMDY1IiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhLjkifQ…></iframe>\n","time":{"start":1757105465059,"stop":1757105486994,"duration":21935}},{"uid":"4d6b4310f211d2a","reportUrl":"https://civicteam.github.io/civic-auth-examples/52//#testresult/4d6b4310f211d2a","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757104389451,"stop":1757104395336,"duration":5885}},{"uid":"811be47d12e5760a","reportUrl":"https://civicteam.github.io/civic-auth-examples/52//#testresult/811be47d12e5760a","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757104379270,"stop":1757104384217,"duration":4947}},{"uid":"568b1ccb75525d2","reportUrl":"https://civicteam.github.io/civic-auth-examples/51//#testresult/568b1ccb75525d2","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757048766403,"stop":1757048773144,"duration":6741}},{"uid":"11f04e69c8fde8d","reportUrl":"https://civicteam.github.io/civic-auth-examples/51//#testresult/11f04e69c8fde8d","status":"passed","time":{"start":1757048671666,"stop":1757048683705,"duration":12039}},{"uid":"5e9961bebadc6734","reportUrl":"https://civicteam.github.io/civic-auth-examples/49//#testresult/5e9961bebadc6734","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757038929203,"stop":1757038937430,"duration":8227}},{"uid":"f6eaabd69a4873a","reportUrl":"https://civicteam.github.io/civic-auth-examples/49//#testresult/f6eaabd69a4873a","status":"passed","time":{"start":1757038910467,"stop":1757038933689,"duration":23222}},{"uid":"92bf7cc2ee35281a","reportUrl":"https://civicteam.github.io/civic-auth-examples/50//#testresult/92bf7cc2ee35281a","status":"passed","time":{"start":1757038941516,"stop":1757038957789,"duration":16273}},{"uid":"2e45cd3ba92a8d02","reportUrl":"https://civicteam.github.io/civic-auth-examples/48//#testresult/2e45cd3ba92a8d02","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757031495674,"stop":1757031503933,"duration":8259}},{"uid":"96e47db7ff06eb7a","reportUrl":"https://civicteam.github.io/civic-auth-examples/47//#testresult/96e47db7ff06eb7a","status":"passed","time":{"start":1757031583894,"stop":1757031598910,"duration":15016}},{"uid":"3ca65e3c91a64282","reportUrl":"https://civicteam.github.io/civic-auth-examples/45//#testresult/3ca65e3c91a64282","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757030854896,"stop":1757030860817,"duration":5921}},{"uid":"edb8dbbd7a1e32ad","reportUrl":"https://civicteam.github.io/civic-auth-examples/46//#testresult/edb8dbbd7a1e32ad","status":"passed","time":{"start":1757030878202,"stop":1757030890786,"duration":12584}},{"uid":"3575ab56a2b04640","reportUrl":"https://civicteam.github.io/civic-auth-examples/45//#testresult/3575ab56a2b04640","status":"passed","time":{"start":1757030794714,"stop":1757030807738,"duration":13024}},{"uid":"900a82c0e961d0c3","reportUrl":"https://civicteam.github.io/civic-auth-examples/44//#testresult/900a82c0e961d0c3","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757025115502,"stop":1757025122011,"duration":6509}},{"uid":"29a71845e6221376","reportUrl":"https://civicteam.github.io/civic-auth-examples/43//#testresult/29a71845e6221376","status":"failed","statusDetails":"Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"/customSuccessRoute\"\nReceived string:    \"http://localhost:3000/\"","time":{"start":1757025283179,"stop":1757025288972,"duration":5793}}]},"tags":[]},"source":"76619122f5ccafa2.json","parameterValues":["Civic Auth Applications - Chromium"]}