{"uid":"cd64605c7a239844","name":"should complete full login and logout flow with basepath","fullName":"civic-auth/basePath/nextjs-login.spec.ts:10:7","historyId":"064bb6eda9e6ff68e255b16be17be320:37e9d81b4e6e0e8f6c9116746379d23f","time":{"start":1757015266390,"stop":1757015298237,"duration":31847},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:32:16","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:32:16","steps":[{"name":"Before Hooks","time":{"start":1757015266392,"stop":1757015267479,"duration":1087},"status":"passed","steps":[{"name":"beforeEach hook","time":{"start":1757015266393,"stop":1757015267478,"duration":1085},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1757015266407,"stop":1757015266766,"duration":359},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1757015266411,"stop":1757015266766,"duration":355},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"context\"","time":{"start":1757015266769,"stop":1757015266854,"duration":85},"status":"passed","steps":[{"name":"Create context","time":{"start":1757015266772,"stop":1757015266840,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Fixture \"page\"","time":{"start":1757015266854,"stop":1757015267451,"duration":597},"status":"passed","steps":[{"name":"Create page","time":{"start":1757015266856,"stop":1757015267451,"duration":595},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757015267474,"stop":1757015267474,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757015267477,"stop":1757015267477,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Attach \"Allure Metadata (metadata)\"","time":{"start":1757015267478,"stop":1757015267478,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},{"name":"Navigate to \"/demo\"","time":{"start":1757015267496,"stop":1757015267828,"duration":332},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"networkidle\"","time":{"start":1757015267830,"stop":1757015268313,"duration":483},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for load state \"domcontentloaded\"","time":{"start":1757015268314,"stop":1757015268314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Click getByTestId('sign-in-button')","time":{"start":1757015268317,"stop":1757015268385,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Wait for selector locator('[data-testid=\"civic-auth-iframe-with-resizer\"]')","time":{"start":1757015268387,"stop":1757015298396,"duration":30009},"status":"failed","statusMessage":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","statusTrace":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n\n    at /home/runner/work/civic-auth-examples/civic-auth-examples/packages/e2e/playwright/tests/civic-auth/basePath/nextjs-login.spec.ts:32:16","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"screenshot","time":{"start":1757015299293,"stop":1757015299293,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"d0948b93fce610c2","name":"screenshot","source":"d0948b93fce610c2.png","type":"image/png","size":32982}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"video","time":{"start":1757015299294,"stop":1757015299294,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2261bdd512348fe6","name":"video","source":"2261bdd512348fe6.webm","type":"video/webm","size":233214}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"error-context","time":{"start":1757015299294,"stop":1757015299294,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"6068c93e5a4c4558","name":"error-context","source":"6068c93e5a4c4558.md","type":"text/markdown","size":290}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"trace","time":{"start":1757015299294,"stop":1757015299294,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"52ade19472212d47","name":"trace","source":"52ade19472212d47.zip","type":"application/vnd.allure.playwright-trace","size":1260925}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"After Hooks","time":{"start":1757015298397,"stop":1757015298623,"duration":226},"status":"passed","steps":[{"name":"Fixture \"page\"","time":{"start":1757015298419,"stop":1757015298419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Fixture \"context\"","time":{"start":1757015298419,"stop":1757015298615,"duration":196},"status":"passed","steps":[{"name":"Close context","time":{"start":1757015298592,"stop":1757015298613,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":24,"attachmentsCount":4,"hasContent":true},"afterStages":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"civic-auth.basePath.nextjs-login.spec.ts"},{"name":"titlePath","value":" > Civic Auth Applications - Firefox > civic-auth/basePath/nextjs-login.spec.ts > Civic Auth Applications"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"pid-6363-worker-0"},{"name":"parentSuite","value":"Civic Auth Applications - Firefox"},{"name":"subSuite","value":"Civic Auth Applications"},{"name":"epic","value":"Civic Auth Applications"},{"name":"suite","value":"Login Basepath"},{"name":"feature","value":"Next.js Login (BasePath)"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"Civic Auth Applications - Firefox"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"294293d34c655ad2","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757015232938,"stop":1757015264806,"duration":31868}},{"uid":"fadaef88bd01bfd6","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757015199467,"stop":1757015231336,"duration":31869}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":23,"broken":0,"skipped":0,"passed":16,"unknown":0,"total":39},"items":[{"uid":"7e560370006c81b0","reportUrl":"https://civicteam.github.io/civic-auth-examples/37//#testresult/7e560370006c81b0","status":"passed","time":{"start":1757015211941,"stop":1757015226956,"duration":15015}},{"uid":"aed2b07148a1df6f","reportUrl":"https://civicteam.github.io/civic-auth-examples/37//#testresult/aed2b07148a1df6f","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757015380668,"stop":1757015412511,"duration":31843}},{"uid":"c75516a5f430d0b5","reportUrl":"https://civicteam.github.io/civic-auth-examples/36//#testresult/c75516a5f430d0b5","status":"passed","time":{"start":1757011335282,"stop":1757011348706,"duration":13424}},{"uid":"ea3a9029b2847a4a","reportUrl":"https://civicteam.github.io/civic-auth-examples/36//#testresult/ea3a9029b2847a4a","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757011398191,"stop":1757011430100,"duration":31909}},{"uid":"de56d3b2e3f43d18","reportUrl":"https://civicteam.github.io/civic-auth-examples/35//#testresult/de56d3b2e3f43d18","status":"passed","time":{"start":1757011330102,"stop":1757011343888,"duration":13786}},{"uid":"97bf6e44aaf6dc94","reportUrl":"https://civicteam.github.io/civic-auth-examples/35//#testresult/97bf6e44aaf6dc94","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757011495234,"stop":1757011527176,"duration":31942}},{"uid":"a7467da098a6f7b6","reportUrl":"https://civicteam.github.io/civic-auth-examples/33//#testresult/a7467da098a6f7b6","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010507952,"stop":1757010539886,"duration":31934}},{"uid":"3396395201e7c6e","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/3396395201e7c6e","status":"passed","time":{"start":1757010571772,"stop":1757010585918,"duration":14146}},{"uid":"dee932806c2d4b","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/dee932806c2d4b","status":"passed","time":{"start":1757009831798,"stop":1757009848225,"duration":16427}},{"uid":"1a8e344f564d6828","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/1a8e344f564d6828","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010002964,"stop":1757010034836,"duration":31872}},{"uid":"a7fcf983cbc9184c","reportUrl":"https://civicteam.github.io/civic-auth-examples/34//#testresult/a7fcf983cbc9184c","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757010642820,"stop":1757010674653,"duration":31833}},{"uid":"fe2fb7e1ae91962b","reportUrl":"https://civicteam.github.io/civic-auth-examples/32//#testresult/fe2fb7e1ae91962b","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('[data-testid=\"civic-auth-iframe-with-resizer\"]') to be visible\n","time":{"start":1757009993878,"stop":1757010025719,"duration":31841}},{"uid":"1a191c64859309cf","reportUrl":"https://civicteam.github.io/civic-auth-examples/31//#testresult/1a191c64859309cf","status":"passed","time":{"start":1757009745247,"stop":1757009759518,"duration":14271}},{"uid":"9562807c34f61489","reportUrl":"https://civicteam.github.io/civic-auth-examples/29//#testresult/9562807c34f61489","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n    2 × locator resolved to hidden <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/demo/api/auth/login?state=eyJ1dWlkIjoiOTU3NTkwMTMtZmY1My00ZGU4LWJjYTUtYjk2ZmQxMTY0Y2VhIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhL…></iframe>\n    59 × locator resolved to 2 elements. Proceeding with the first one: <iframe scrolling=\"no\" frameborder=\"0\" seamless=\"seamless\" id=\"civic-auth-iframe\" allowfullscreen=\"true\" data-testid=\"civic-auth-iframe-with-resizer\" allow=\"camera; screen-wake-lock; publickey-credentials-get *; publickey-credentials-create *\" src=\"http://localhost:3000/demo/api/auth/login?state=eyJ1dWlkIjoiOTU3NTkwMTMtZmY1My00ZGU4LWJjYTUtYjk2ZmQxMTY0Y2VhIiwiZGlzcGxheU1vZGUiOiJpZnJhbWUiLCJpZnJhbWVEaXNwbGF5TW9kZSI6Im1vZGFsIiwiZnJhbWV3b3JrIjoibmV4dGpzIiwic2RrVmVyc2lvbiI6IkBjaXZpYy9hdXRoOjAuMTAuMC1iZXRhL…></iframe>\n","time":{"start":1757008977922,"stop":1757009010639,"duration":32717}},{"uid":"1cbc3ef008b833dd","reportUrl":"https://civicteam.github.io/civic-auth-examples/27//#testresult/1cbc3ef008b833dd","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n","time":{"start":1757008418289,"stop":1757008450126,"duration":31837}},{"uid":"287993f1e74de3fa","reportUrl":"https://civicteam.github.io/civic-auth-examples/25//#testresult/287993f1e74de3fa","status":"passed","time":{"start":1757007778156,"stop":1757007795855,"duration":17699}},{"uid":"7928e27b344ff6bb","reportUrl":"https://civicteam.github.io/civic-auth-examples/24//#testresult/7928e27b344ff6bb","status":"passed","time":{"start":1757007098675,"stop":1757007115768,"duration":17093}},{"uid":"d13273e6bdeb082c","reportUrl":"https://civicteam.github.io/civic-auth-examples/22//#testresult/d13273e6bdeb082c","status":"failed","statusDetails":"Error: browserType.launch: Target page, context or browser has been closed\nBrowser logs:\n\n╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗\n║ Firefox is unable to launch if the $HOME folder isn't owned by the current user.                                  ║\n║ Workaround: Set the HOME=/root environment variable in your GitHub Actions workflow file when running Playwright. ║\n╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝\nCall log:\n  - <launching> /ms-playwright/firefox-1482/firefox/firefox -no-remote -headless -profile /tmp/playwright_firefoxdev_profile-DPCHbC -juggler-pipe -silent\n  - <launched> pid=1199\n  - [pid=1199][err] Running Nightly as root in a regular user's session is not supported.  ($HOME is /github/home which is owned by uid 1001.)\n  - [pid=1199] <process did exit: exitCode=1, signal=null>\n  - [pid=1199] starting temporary directories cleanup\n","time":{"start":1757006456222,"stop":1757006456229,"duration":7}},{"uid":"9cea7dee77cb46f5","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/9cea7dee77cb46f5","status":"passed","time":{"start":1757004791908,"stop":1757004804667,"duration":12759}},{"uid":"69d5fa399f4af81e","reportUrl":"https://civicteam.github.io/civic-auth-examples/14//#testresult/69d5fa399f4af81e","status":"failed","statusDetails":"TimeoutError: page.waitForSelector: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator('#civic-auth-iframe') to be visible\n","time":{"start":1757004927712,"stop":1757004959690,"duration":31978}}]},"tags":[]},"source":"cd64605c7a239844.json","parameterValues":["Civic Auth Applications - Firefox"]}